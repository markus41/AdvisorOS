<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/AdvisorOS/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/AdvisorOS/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(45)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(45) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(45) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(45) > ul.nav-list { display: block; } </style> <script src="/AdvisorOS/assets/js/vendor/lunr.min.js"></script> <script src="/AdvisorOS/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Client Management API | AdvisorOS Documentation</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Client Management API" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Implementation, adoption, and operations playbook for AdvisorOS." /> <meta property="og:description" content="Implementation, adoption, and operations playbook for AdvisorOS." /> <link rel="canonical" href="https://markus41.github.io/AdvisorOS/api/routes/client.html" /> <meta property="og:url" content="https://markus41.github.io/AdvisorOS/api/routes/client.html" /> <meta property="og:site_name" content="AdvisorOS Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Client Management API" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Implementation, adoption, and operations playbook for AdvisorOS.","headline":"Client Management API","url":"https://markus41.github.io/AdvisorOS/api/routes/client.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/AdvisorOS/" class="site-title lh-tight"> AdvisorOS Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/AdvisorOS/wiki/" class="nav-list-link">AdvisorOS Wiki</a></li><li class="nav-list-item"><a href="/AdvisorOS/" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/AdvisorOS/business/" class="nav-list-link">Business Overview</a></li><li class="nav-list-item"><a href="/AdvisorOS/FEATURES.html" class="nav-list-link">Product Capabilities</a></li><li class="nav-list-item"><a href="/AdvisorOS/strategic/" class="nav-list-link">Strategic Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/QUICK_START.html" class="nav-list-link">Executive Quick Start</a></li><li class="nav-list-item"><a href="/AdvisorOS/README.html" class="nav-list-link">Documentation Home</a></li><li class="nav-list-item"><a href="/AdvisorOS/technical/" class="nav-list-link">Technical Hub</a></li><li class="nav-list-item"><a href="/AdvisorOS/integrations/" class="nav-list-link">Integrations Hub</a></li><li class="nav-list-item"><a href="/AdvisorOS/security/" class="nav-list-link">Security & Compliance</a></li><li class="nav-list-item"><a href="/AdvisorOS/ARCHITECTURE.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item"><a href="/AdvisorOS/API_REFERENCE.html" class="nav-list-link">API Reference</a></li><li class="nav-list-item"><a href="/AdvisorOS/USER_GUIDE_COMPREHENSIVE.html" class="nav-list-link">User Guide (Comprehensive)</a></li><li class="nav-list-item"><a href="/AdvisorOS/README_USER.html" class="nav-list-link">Implementation Runbook</a></li><li class="nav-list-item"><a href="/AdvisorOS/CLIENT_PORTAL_GUIDE.html" class="nav-list-link">Client Portal Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/DATABASE.html" class="nav-list-link">Database Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/DEVELOPER_SETUP_ENHANCED.html" class="nav-list-link">Developer Environment Setup</a></li><li class="nav-list-item"><a href="/AdvisorOS/DEPLOYMENT.html" class="nav-list-link">Deployment Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/ADMINISTRATOR_GUIDE.html" class="nav-list-link">Administrator Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/INTEGRATION_GUIDES.html" class="nav-list-link">Integration Guides</a></li><li class="nav-list-item"><a href="/AdvisorOS/QUICKBOOKS_SETUP.html" class="nav-list-link">QuickBooks Setup</a></li><li class="nav-list-item"><a href="/AdvisorOS/README_DEV.html" class="nav-list-link">Developer Setup</a></li><li class="nav-list-item"><a href="/AdvisorOS/TROUBLESHOOTING.html" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Operations Command Center category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/AdvisorOS/operations/" class="nav-list-link">Operations Command Center</a><ul class="nav-list"><li class="nav-list-item"><a href="/AdvisorOS/operations/incident-response.html" class="nav-list-link">Incident Response Playbook</a></li><li class="nav-list-item"><a href="/AdvisorOS/operations/RUNBOOK.html" class="nav-list-link">Operations Runbook</a></li><li class="nav-list-item"><a href="/AdvisorOS/operations/DEPLOYMENT_GUIDE.html" class="nav-list-link">Production Deployment Guide</a></li></ul></li><li class="nav-list-item"><a href="/AdvisorOS/compliance/README.html" class="nav-list-link">Compliance Overview</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/001-multi-tenant-data-isolation.html" class="nav-list-link">ADR-001: Multi-Tenant Data Isolation Strategy</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/002-prisma-schema-design.html" class="nav-list-link">ADR-002: Prisma Schema Design and Relationships</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/003-nextjs-app-router-api-design.html" class="nav-list-link">ADR-003: Next.js App Router Structure and API Design</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/004-azure-infrastructure-scaling.html" class="nav-list-link">ADR-004: Azure Infrastructure Choices and Scaling Strategy</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/005-security-architecture-compliance.html" class="nav-list-link">ADR-005: Security Architecture and Compliance Framework</a></li><li class="nav-list-item"><a href="/AdvisorOS/api/" class="nav-list-link">AdvisorOS API Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/admin/" class="nav-list-link">AdvisorOS Administrator Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/ARCHITECTURE_AUDIT_SUMMARY.html" class="nav-list-link">AdvisorOS Architecture Audit Summary</a></li><li class="nav-list-item"><a href="/AdvisorOS/COST_OPTIMIZATION_STRATEGY.html" class="nav-list-link">AdvisorOS Cost Optimization Strategy</a></li><li class="nav-list-item"><a href="/AdvisorOS/developer/" class="nav-list-link">AdvisorOS Developer Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/FAQ_TROUBLESHOOTING.html" class="nav-list-link">AdvisorOS FAQ &amp; Troubleshooting Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/PRODUCTION_READINESS_CHECKLIST.html" class="nav-list-link">AdvisorOS Production Readiness Checklist</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/TECHNICAL_DEBT_ANALYSIS.html" class="nav-list-link">AdvisorOS Technical Debt Analysis and Improvement Roadmap</a></li><li class="nav-list-item"><a href="/AdvisorOS/templates/TECHNICAL_DOC_TEMPLATE.html" class="nav-list-link">AdvisorOS Technical Doc Template</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/" class="nav-list-link">AdvisorOS User Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/" class="nav-list-link">Architectural Decision Records (ADRs)</a></li><li class="nav-list-item"><a href="/AdvisorOS/admin/infrastructure/azure-deployment.html" class="nav-list-link">Azure Deployment Guide for AdvisorOS</a></li><li class="nav-list-item"><a href="/AdvisorOS/api-specs/endpoints.html" class="nav-list-link">CPA Platform API Specifications</a></li><li class="nav-list-item"><a href="/AdvisorOS/design-system/components.html" class="nav-list-link">CPA Platform Design System - Components</a></li><li class="nav-list-item"><a href="/AdvisorOS/api/routes/client.html" class="nav-list-link">Client Management API</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/cpa-firms/client-management.html" class="nav-list-link">Client Management Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/clients/client-portal-guide.html" class="nav-list-link">Client Portal User Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/cpa-firms/getting-started.html" class="nav-list-link">Getting Started with AdvisorOS</a></li><li class="nav-list-item"><a href="/AdvisorOS/compliance/soc2/overview.html" class="nav-list-link">SOC 2 Type II Compliance Overview</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/markus41/AdvisorOS/blob/main/ADVISOROS_COMPREHENSIVE_ENHANCEMENT_PORTFOLIO.md" class="nav-list-link external" > Product Overview (PDF) <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search AdvisorOS Documentation" aria-label="Search AdvisorOS Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/markus41/AdvisorOS" class="site-button" > AdvisorOS on GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="client-management-api"> <a href="#client-management-api" class="anchor-heading" aria-labelledby="client-management-api"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Client Management API </h1> <h2 id="overview"> <a href="#overview" class="anchor-heading" aria-labelledby="overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Overview </h2> <p>The Client Management API provides comprehensive functionality for managing CPA firm clients, including CRUD operations, search, filtering, and integration with QuickBooks. All endpoints are organization-scoped and require proper authentication.</p> <h2 id="base-router-client"> <a href="#base-router-client" class="anchor-heading" aria-labelledby="base-router-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Base Router: <code class="language-plaintext highlighter-rouge">client</code> </h2> <p>All client endpoints are accessed via the <code class="language-plaintext highlighter-rouge">client</code> router in the tRPC API.</p> <h2 id="endpoints"> <a href="#endpoints" class="anchor-heading" aria-labelledby="endpoints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Endpoints </h2> <h3 id="1-list-clients"> <a href="#1-list-clients" class="anchor-heading" aria-labelledby="1-list-clients"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. List Clients </h3> <p>Get a paginated list of clients with filtering and sorting options.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.list</code> <strong>Method:</strong> Query <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema"> <a href="#input-schema" class="anchor-heading" aria-labelledby="input-schema"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">filters</span><span class="p">?:</span> <span class="p">{</span>
    <span class="nx">search</span><span class="p">?:</span> <span class="kr">string</span>                    <span class="c1">// Search across business name, legal name, email, contact name, tax ID</span>
    <span class="nx">status</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[]</span>                  <span class="c1">// Filter by client status: ['prospect', 'active', 'inactive', 'archived']</span>
    <span class="nx">businessType</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[]</span>            <span class="c1">// Filter by business type: ['individual', 'partnership', 'corporation', 'llc', 'trust']</span>
    <span class="nx">riskLevel</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[]</span>              <span class="c1">// Filter by risk level: ['low', 'medium', 'high']</span>
    <span class="nx">hasQuickBooks</span><span class="p">?:</span> <span class="nx">boolean</span>           <span class="c1">// Filter clients with/without QuickBooks integration</span>
    <span class="nx">annualRevenueMin</span><span class="p">?:</span> <span class="kr">number</span>         <span class="c1">// Minimum annual revenue filter</span>
    <span class="nx">annualRevenueMax</span><span class="p">?:</span> <span class="kr">number</span>         <span class="c1">// Maximum annual revenue filter</span>
    <span class="nx">createdAfter</span><span class="p">?:</span> <span class="nb">Date</span>               <span class="c1">// Filter clients created after date</span>
    <span class="nx">createdBefore</span><span class="p">?:</span> <span class="nb">Date</span>              <span class="c1">// Filter clients created before date</span>
    <span class="nx">industry</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[]</span>               <span class="c1">// Filter by industry</span>
  <span class="p">},</span>
  <span class="nx">sort</span><span class="p">?:</span> <span class="p">{</span>
    <span class="na">field</span><span class="p">:</span> <span class="kr">string</span>                     <span class="c1">// Sort field: 'businessName', 'createdAt', 'updatedAt', 'annualRevenue'</span>
    <span class="na">direction</span><span class="p">:</span> <span class="dl">'</span><span class="s1">asc</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">desc</span><span class="dl">'</span>         <span class="c1">// Sort direction</span>
  <span class="p">},</span>
  <span class="nx">pagination</span><span class="p">?:</span> <span class="p">{</span>
    <span class="nx">page</span><span class="p">?:</span> <span class="kr">number</span>                     <span class="c1">// Page number (1-based, default: 1)</span>
    <span class="nx">limit</span><span class="p">?:</span> <span class="kr">number</span>                    <span class="c1">// Items per page (default: 20, max: 100)</span>
    <span class="nx">offset</span><span class="p">?:</span> <span class="kr">number</span>                   <span class="c1">// Alternative to page-based pagination</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema"> <a href="#response-schema" class="anchor-heading" aria-labelledby="response-schema"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="nx">Client</span><span class="p">[]</span>                      <span class="c1">// Array of client objects</span>
  <span class="nx">pagination</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span>                     <span class="c1">// Total number of clients</span>
    <span class="nx">pages</span><span class="p">:</span> <span class="kr">number</span>                     <span class="c1">// Total number of pages</span>
    <span class="nx">page</span><span class="p">:</span> <span class="kr">number</span>                      <span class="c1">// Current page</span>
    <span class="nx">limit</span><span class="p">:</span> <span class="kr">number</span>                     <span class="c1">// Items per page</span>
    <span class="nx">hasNext</span><span class="p">:</span> <span class="nx">boolean</span>                  <span class="c1">// Whether there are more pages</span>
    <span class="nx">hasPrev</span><span class="p">:</span> <span class="nx">boolean</span>                  <span class="c1">// Whether there are previous pages</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage"> <a href="#example-usage" class="anchor-heading" aria-labelledby="example-usage"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Get active clients sorted by business name</span>
<span class="kd">const</span> <span class="nx">clients</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">status</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">],</span>
    <span class="na">businessType</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">corporation</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">llc</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="na">sort</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">field</span><span class="p">:</span> <span class="dl">'</span><span class="s1">businessName</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">direction</span><span class="p">:</span> <span class="dl">'</span><span class="s1">asc</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">pagination</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="na">limit</span><span class="p">:</span> <span class="mi">25</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// Search for clients with QuickBooks integration</span>
<span class="kd">const</span> <span class="nx">qbClients</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">search</span><span class="p">:</span> <span class="dl">'</span><span class="s1">tech</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">hasQuickBooks</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="na">annualRevenueMin</span><span class="p">:</span> <span class="mi">100000</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div><hr /> <h3 id="2-get-client-by-id"> <a href="#2-get-client-by-id" class="anchor-heading" aria-labelledby="2-get-client-by-id"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Get Client by ID </h3> <p>Retrieve a specific client by their unique identifier.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.byId</code> <strong>Method:</strong> Query <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-1"> <a href="#input-schema-1" class="anchor-heading" aria-labelledby="input-schema-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span>                          <span class="c1">// Client CUID</span>
  <span class="nx">includeRelations</span><span class="p">?:</span> <span class="nx">boolean</span>          <span class="c1">// Include related data (default: true)</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-1"> <a href="#response-schema-1" class="anchor-heading" aria-labelledby="response-schema-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Client</span> <span class="o">&amp;</span> <span class="p">{</span>
  <span class="nx">documents</span><span class="p">?:</span> <span class="nx">Document</span><span class="p">[]</span>              <span class="c1">// Client documents (if includeRelations: true)</span>
  <span class="nx">notes</span><span class="p">?:</span> <span class="nx">Note</span><span class="p">[]</span>                     <span class="c1">// Client notes (if includeRelations: true)</span>
  <span class="nx">tasks</span><span class="p">?:</span> <span class="nx">Task</span><span class="p">[]</span>                     <span class="c1">// Client tasks (if includeRelations: true)</span>
  <span class="nx">quickbooksIntegration</span><span class="p">?:</span> <span class="nx">QBIntegration</span> <span class="c1">// QuickBooks integration details</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-1"> <a href="#example-usage-1" class="anchor-heading" aria-labelledby="example-usage-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Get client with all related data</span>
<span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">byId</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client-id-here</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">includeRelations</span><span class="p">:</span> <span class="kc">true</span>
<span class="p">})</span>

<span class="c1">// Get client basic information only</span>
<span class="kd">const</span> <span class="nx">clientBasic</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">byId</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client-id-here</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">includeRelations</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">})</span>
</code></pre></div></div> <h4 id="error-responses"> <a href="#error-responses" class="anchor-heading" aria-labelledby="error-responses"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Responses </h4> <ul> <li><code class="language-plaintext highlighter-rouge">NOT_FOUND</code>: Client does not exist or user doesn’t have access</li> <li><code class="language-plaintext highlighter-rouge">UNAUTHORIZED</code>: Invalid authentication or insufficient permissions</li> </ul><hr /> <h3 id="3-create-client"> <a href="#3-create-client" class="anchor-heading" aria-labelledby="3-create-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Create Client </h3> <p>Create a new client in the organization.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.create</code> <strong>Method:</strong> Mutation <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-2"> <a href="#input-schema-2" class="anchor-heading" aria-labelledby="input-schema-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="c1">// Required fields</span>
  <span class="nl">businessName</span><span class="p">:</span> <span class="kr">string</span>               <span class="c1">// Business or individual name</span>
  <span class="nx">businessType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">individual</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">partnership</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">corporation</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">llc</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">trust</span><span class="dl">'</span>
  <span class="nx">primaryContactEmail</span><span class="p">:</span> <span class="kr">string</span>        <span class="c1">// Primary contact email</span>
  <span class="nx">primaryContactName</span><span class="p">:</span> <span class="kr">string</span>         <span class="c1">// Primary contact person name</span>

  <span class="c1">// Optional fields</span>
  <span class="nx">legalName</span><span class="p">?:</span> <span class="kr">string</span>                <span class="c1">// Legal business name (if different)</span>
  <span class="nx">primaryContactPhone</span><span class="p">?:</span> <span class="kr">string</span>       <span class="c1">// Primary contact phone</span>
  <span class="nx">address</span><span class="p">?:</span> <span class="p">{</span>
    <span class="na">street</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">street2</span><span class="p">?:</span> <span class="kr">string</span>
    <span class="na">city</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">state</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">zipCode</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">country</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="p">}</span>
  <span class="nl">taxId</span><span class="p">?:</span> <span class="kr">string</span>                    <span class="c1">// Federal Tax ID/EIN</span>
  <span class="nx">quickbooksId</span><span class="p">?:</span> <span class="kr">string</span>             <span class="c1">// QuickBooks customer ID</span>
  <span class="nx">annualRevenue</span><span class="p">?:</span> <span class="kr">number</span>            <span class="c1">// Annual revenue</span>
  <span class="nx">industry</span><span class="p">?:</span> <span class="kr">string</span>                 <span class="c1">// Industry classification</span>
  <span class="nx">riskLevel</span><span class="p">?:</span> <span class="dl">'</span><span class="s1">low</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">high</span><span class="dl">'</span> <span class="c1">// Risk assessment (default: 'low')</span>
  <span class="nx">status</span><span class="p">?:</span> <span class="dl">'</span><span class="s1">prospect</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">active</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">inactive</span><span class="dl">'</span> <span class="c1">// Client status (default: 'prospect')</span>
  <span class="nx">notes</span><span class="p">?:</span> <span class="kr">string</span>                    <span class="c1">// Initial notes</span>
  <span class="nx">customFields</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;</span> <span class="c1">// Custom field values</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-2"> <a href="#response-schema-2" class="anchor-heading" aria-labelledby="response-schema-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Client</span>                              <span class="c1">// Created client object</span>
</code></pre></div></div> <h4 id="example-usage-2"> <a href="#example-usage-2" class="anchor-heading" aria-labelledby="example-usage-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Create a new corporate client</span>
<span class="kd">const</span> <span class="nx">newClient</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">create</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Acme Corporation</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">businessType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">corporation</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">John Smith</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactEmail</span><span class="p">:</span> <span class="dl">'</span><span class="s1">john@acme.com</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactPhone</span><span class="p">:</span> <span class="dl">'</span><span class="s1">+1-555-0123</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">street</span><span class="p">:</span> <span class="dl">'</span><span class="s1">123 Business Ave</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">city</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Business City</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">state</span><span class="p">:</span> <span class="dl">'</span><span class="s1">CA</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">zipCode</span><span class="p">:</span> <span class="dl">'</span><span class="s1">90210</span><span class="dl">'</span>
  <span class="p">},</span>
  <span class="na">taxId</span><span class="p">:</span> <span class="dl">'</span><span class="s1">12-3456789</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">annualRevenue</span><span class="p">:</span> <span class="mi">1000000</span><span class="p">,</span>
  <span class="na">industry</span><span class="p">:</span> <span class="dl">'</span><span class="s1">manufacturing</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">riskLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">low</span><span class="dl">'</span>
<span class="p">})</span>

<span class="c1">// Create an individual client</span>
<span class="kd">const</span> <span class="nx">individual</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">create</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Jane Doe</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">businessType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">individual</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Jane Doe</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactEmail</span><span class="p">:</span> <span class="dl">'</span><span class="s1">jane@email.com</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">active</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div> <h4 id="error-responses-1"> <a href="#error-responses-1" class="anchor-heading" aria-labelledby="error-responses-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Responses </h4> <ul> <li><code class="language-plaintext highlighter-rouge">CONFLICT</code>: Client with same business name or tax ID already exists</li> <li><code class="language-plaintext highlighter-rouge">BAD_REQUEST</code>: Invalid input data or missing required fields</li> <li><code class="language-plaintext highlighter-rouge">INTERNAL_SERVER_ERROR</code>: Server error during creation</li> </ul><hr /> <h3 id="4-update-client"> <a href="#4-update-client" class="anchor-heading" aria-labelledby="4-update-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Update Client </h3> <p>Update an existing client’s information.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.update</code> <strong>Method:</strong> Mutation <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-3"> <a href="#input-schema-3" class="anchor-heading" aria-labelledby="input-schema-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span>                        <span class="c1">// Client CUID (required)</span>

  <span class="c1">// All other fields are optional and will only update if provided</span>
  <span class="nx">businessName</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">legalName</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">businessType</span><span class="p">?:</span> <span class="dl">'</span><span class="s1">individual</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">partnership</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">corporation</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">llc</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">trust</span><span class="dl">'</span>
  <span class="nx">primaryContactName</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">primaryContactEmail</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">primaryContactPhone</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">address</span><span class="p">?:</span> <span class="p">{</span>
    <span class="na">street</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">street2</span><span class="p">?:</span> <span class="kr">string</span>
    <span class="na">city</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">state</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">zipCode</span><span class="p">:</span> <span class="kr">string</span>
    <span class="nx">country</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="p">}</span>
  <span class="nl">taxId</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">quickbooksId</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">annualRevenue</span><span class="p">?:</span> <span class="kr">number</span>
  <span class="nx">industry</span><span class="p">?:</span> <span class="kr">string</span>
  <span class="nx">riskLevel</span><span class="p">?:</span> <span class="dl">'</span><span class="s1">low</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">high</span><span class="dl">'</span>
  <span class="nx">status</span><span class="p">?:</span> <span class="dl">'</span><span class="s1">prospect</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">active</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">inactive</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">archived</span><span class="dl">'</span>
  <span class="nx">customFields</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-3"> <a href="#response-schema-3" class="anchor-heading" aria-labelledby="response-schema-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">Client</span>                              <span class="c1">// Updated client object</span>
</code></pre></div></div> <h4 id="example-usage-3"> <a href="#example-usage-3" class="anchor-heading" aria-labelledby="example-usage-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Update client contact information</span>
<span class="kd">const</span> <span class="nx">updatedClient</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">update</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client-id-here</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactEmail</span><span class="p">:</span> <span class="dl">'</span><span class="s1">newemail@acme.com</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">primaryContactPhone</span><span class="p">:</span> <span class="dl">'</span><span class="s1">+1-555-9999</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">annualRevenue</span><span class="p">:</span> <span class="mi">1200000</span>
<span class="p">})</span>

<span class="c1">// Update client status and risk level</span>
<span class="kd">const</span> <span class="nx">statusUpdate</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">update</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client-id-here</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">status</span><span class="p">:</span> <span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">riskLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div> <h4 id="error-responses-2"> <a href="#error-responses-2" class="anchor-heading" aria-labelledby="error-responses-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Responses </h4> <ul> <li><code class="language-plaintext highlighter-rouge">NOT_FOUND</code>: Client does not exist</li> <li><code class="language-plaintext highlighter-rouge">CONFLICT</code>: Updated data conflicts with existing client</li> <li><code class="language-plaintext highlighter-rouge">BAD_REQUEST</code>: Invalid input data</li> </ul><hr /> <h3 id="5-delete-client"> <a href="#5-delete-client" class="anchor-heading" aria-labelledby="5-delete-client"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Delete Client </h3> <p>Soft delete a client (marks as deleted but preserves data for audit purposes).</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.delete</code> <strong>Method:</strong> Mutation <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-4"> <a href="#input-schema-4" class="anchor-heading" aria-labelledby="input-schema-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">id</span><span class="p">:</span> <span class="kr">string</span>                        <span class="c1">// Client CUID</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-4"> <a href="#response-schema-4" class="anchor-heading" aria-labelledby="response-schema-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">success</span><span class="p">:</span> <span class="nx">boolean</span>                  <span class="c1">// Deletion success status</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-4"> <a href="#example-usage-4" class="anchor-heading" aria-labelledby="example-usage-4"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Delete a client</span>
<span class="kd">const</span> <span class="nx">result</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="k">delete</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">id</span><span class="p">:</span> <span class="dl">'</span><span class="s1">client-id-here</span><span class="dl">'</span>
<span class="p">})</span>

<span class="k">if</span> <span class="p">(</span><span class="nx">result</span><span class="p">.</span><span class="nx">success</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Client deleted successfully</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="error-responses-3"> <a href="#error-responses-3" class="anchor-heading" aria-labelledby="error-responses-3"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Responses </h4> <ul> <li><code class="language-plaintext highlighter-rouge">NOT_FOUND</code>: Client does not exist</li> <li><code class="language-plaintext highlighter-rouge">CONFLICT</code>: Client cannot be deleted (has active engagements, documents, etc.)</li> <li><code class="language-plaintext highlighter-rouge">INTERNAL_SERVER_ERROR</code>: Server error during deletion</li> </ul><hr /> <h3 id="6-get-client-statistics"> <a href="#6-get-client-statistics" class="anchor-heading" aria-labelledby="6-get-client-statistics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 6. Get Client Statistics </h3> <p>Get aggregate statistics about clients in the organization.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.stats</code> <strong>Method:</strong> Query <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-5"> <a href="#input-schema-5" class="anchor-heading" aria-labelledby="input-schema-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <p>None (uses organization context from authentication)</p> <h4 id="response-schema-5"> <a href="#response-schema-5" class="anchor-heading" aria-labelledby="response-schema-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">total</span><span class="p">:</span> <span class="kr">number</span>                     <span class="c1">// Total number of clients</span>
  <span class="nx">active</span><span class="p">:</span> <span class="kr">number</span>                    <span class="c1">// Number of active clients</span>
  <span class="nx">prospects</span><span class="p">:</span> <span class="kr">number</span>                 <span class="c1">// Number of prospect clients</span>
  <span class="nx">inactive</span><span class="p">:</span> <span class="kr">number</span>                  <span class="c1">// Number of inactive clients</span>
  <span class="nx">archived</span><span class="p">:</span> <span class="kr">number</span>                  <span class="c1">// Number of archived clients</span>
  <span class="nx">withQuickBooks</span><span class="p">:</span> <span class="kr">number</span>           <span class="c1">// Clients with QuickBooks integration</span>
  <span class="nx">totalRevenue</span><span class="p">:</span> <span class="kr">number</span>             <span class="c1">// Sum of all client annual revenues</span>
  <span class="nx">averageRevenue</span><span class="p">:</span> <span class="kr">number</span>           <span class="c1">// Average client annual revenue</span>
  <span class="nx">riskDistribution</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">low</span><span class="p">:</span> <span class="kr">number</span>
    <span class="nx">medium</span><span class="p">:</span> <span class="kr">number</span>
    <span class="nx">high</span><span class="p">:</span> <span class="kr">number</span>
  <span class="p">}</span>
  <span class="nl">businessTypeDistribution</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">individual</span><span class="p">:</span> <span class="kr">number</span>
    <span class="na">partnership</span><span class="p">:</span> <span class="kr">number</span>
    <span class="na">corporation</span><span class="p">:</span> <span class="kr">number</span>
    <span class="na">llc</span><span class="p">:</span> <span class="kr">number</span>
    <span class="na">trust</span><span class="p">:</span> <span class="kr">number</span>
  <span class="p">}</span>
  <span class="nl">recentGrowth</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">lastMonth</span><span class="p">:</span> <span class="kr">number</span>               <span class="c1">// Clients added in last 30 days</span>
    <span class="na">lastQuarter</span><span class="p">:</span> <span class="kr">number</span>             <span class="c1">// Clients added in last 90 days</span>
    <span class="na">lastYear</span><span class="p">:</span> <span class="kr">number</span>                <span class="c1">// Clients added in last 365 days</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-5"> <a href="#example-usage-5" class="anchor-heading" aria-labelledby="example-usage-5"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Get organization client statistics</span>
<span class="kd">const</span> <span class="nx">stats</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">stats</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Total clients: </span><span class="p">${</span><span class="nx">stats</span><span class="p">.</span><span class="nx">total</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Active clients: </span><span class="p">${</span><span class="nx">stats</span><span class="p">.</span><span class="nx">active</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Total revenue: $</span><span class="p">${</span><span class="nx">stats</span><span class="p">.</span><span class="nx">totalRevenue</span><span class="p">.</span><span class="nx">toLocaleString</span><span class="p">()}</span><span class="s2">`</span><span class="p">)</span>
</code></pre></div></div><hr /> <h3 id="7-search-clients"> <a href="#7-search-clients" class="anchor-heading" aria-labelledby="7-search-clients"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 7. Search Clients </h3> <p>Perform full-text search across client data.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.search</code> <strong>Method:</strong> Query <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-6"> <a href="#input-schema-6" class="anchor-heading" aria-labelledby="input-schema-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">query</span><span class="p">:</span> <span class="kr">string</span>                     <span class="c1">// Search term (minimum 1 character)</span>
  <span class="nx">limit</span><span class="p">?:</span> <span class="kr">number</span>                    <span class="c1">// Maximum results (default: 10, max: 50)</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-6"> <a href="#response-schema-6" class="anchor-heading" aria-labelledby="response-schema-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">query</span><span class="p">:</span> <span class="kr">string</span>                     <span class="c1">// Original search query</span>
  <span class="nx">results</span><span class="p">:</span> <span class="nx">Client</span><span class="p">[]</span>                 <span class="c1">// Matching clients</span>
  <span class="nx">count</span><span class="p">:</span> <span class="kr">number</span>                     <span class="c1">// Number of results returned</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-6"> <a href="#example-usage-6" class="anchor-heading" aria-labelledby="example-usage-6"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Search for clients by name or email</span>
<span class="kd">const</span> <span class="nx">searchResults</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">query</span><span class="p">:</span> <span class="dl">'</span><span class="s1">acme</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">20</span>
<span class="p">})</span>

<span class="nx">searchResults</span><span class="p">.</span><span class="nx">results</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">client</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`Found: </span><span class="p">${</span><span class="nx">client</span><span class="p">.</span><span class="nx">businessName</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div><hr /> <h3 id="8-bulk-operations"> <a href="#8-bulk-operations" class="anchor-heading" aria-labelledby="8-bulk-operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 8. Bulk Operations </h3> <p>Perform operations on multiple clients simultaneously.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.bulkOperation</code> <strong>Method:</strong> Mutation <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-7"> <a href="#input-schema-7" class="anchor-heading" aria-labelledby="input-schema-7"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">update</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">delete</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">archive</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">activate</span><span class="dl">'</span>
  <span class="nx">clientIds</span><span class="p">:</span> <span class="kr">string</span><span class="p">[]</span>               <span class="c1">// Array of client CUIDs</span>
  <span class="nx">data</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">any</span><span class="o">&gt;</span>        <span class="c1">// Update data (for update action)</span>
  <span class="nx">reason</span><span class="p">?:</span> <span class="kr">string</span>                   <span class="c1">// Reason for bulk action</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-7"> <a href="#response-schema-7" class="anchor-heading" aria-labelledby="response-schema-7"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">success</span><span class="p">:</span> <span class="nx">boolean</span>                  <span class="c1">// Overall operation success</span>
  <span class="nx">processed</span><span class="p">:</span> <span class="kr">number</span>                 <span class="c1">// Number of clients processed</span>
  <span class="nx">failed</span><span class="p">:</span> <span class="kr">number</span>                    <span class="c1">// Number of failed operations</span>
  <span class="nx">errors</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">clientId</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">error</span><span class="p">:</span> <span class="kr">string</span>
  <span class="p">}</span><span class="o">&gt;</span>                               <span class="c1">// Individual errors</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-7"> <a href="#example-usage-7" class="anchor-heading" aria-labelledby="example-usage-7"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Bulk update client risk levels</span>
<span class="kd">const</span> <span class="nx">bulkUpdate</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">bulkOperation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">update</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">clientIds</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">client-1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">client-2</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">client-3</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">riskLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// Bulk archive clients</span>
<span class="kd">const</span> <span class="nx">bulkArchive</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">bulkOperation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">archive</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">clientIds</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">client-1</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">client-2</span><span class="dl">'</span><span class="p">],</span>
  <span class="na">reason</span><span class="p">:</span> <span class="dl">'</span><span class="s1">End of engagement</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div><hr /> <h3 id="9-export-clients"> <a href="#9-export-clients" class="anchor-heading" aria-labelledby="9-export-clients"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 9. Export Clients </h3> <p>Export client data to CSV format.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.export</code> <strong>Method:</strong> Mutation <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-8"> <a href="#input-schema-8" class="anchor-heading" aria-labelledby="input-schema-8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">filters</span><span class="p">?:</span> <span class="nx">ClientFilters</span>           <span class="c1">// Same filters as list endpoint</span>
  <span class="nx">fields</span><span class="p">?:</span> <span class="kr">string</span><span class="p">[]</span>                 <span class="c1">// Specific fields to export (optional)</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-8"> <a href="#response-schema-8" class="anchor-heading" aria-labelledby="response-schema-8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">data</span><span class="p">:</span> <span class="kr">string</span>                      <span class="c1">// CSV data as string</span>
  <span class="nx">fileName</span><span class="p">:</span> <span class="kr">string</span>                  <span class="c1">// Suggested filename</span>
  <span class="nx">contentType</span><span class="p">:</span> <span class="kr">string</span>               <span class="c1">// MIME type (text/csv)</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-8"> <a href="#example-usage-8" class="anchor-heading" aria-labelledby="example-usage-8"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Export all active clients</span>
<span class="kd">const</span> <span class="nx">exportData</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="k">export</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">status</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">},</span>
  <span class="na">fields</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">businessName</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">primaryContactEmail</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">annualRevenue</span><span class="dl">'</span><span class="p">]</span>
<span class="p">})</span>

<span class="c1">// Create downloadable file</span>
<span class="kd">const</span> <span class="nx">blob</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Blob</span><span class="p">([</span><span class="nx">exportData</span><span class="p">.</span><span class="nx">data</span><span class="p">],</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="nx">exportData</span><span class="p">.</span><span class="nx">contentType</span> <span class="p">})</span>
<span class="kd">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">URL</span><span class="p">.</span><span class="nx">createObjectURL</span><span class="p">(</span><span class="nx">blob</span><span class="p">)</span>
</code></pre></div></div><hr /> <h3 id="10-get-client-aggregations"> <a href="#10-get-client-aggregations" class="anchor-heading" aria-labelledby="10-get-client-aggregations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 10. Get Client Aggregations </h3> <p>Get aggregated data grouped by specified fields for reporting and analytics.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.aggregations</code> <strong>Method:</strong> Query <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-9"> <a href="#input-schema-9" class="anchor-heading" aria-labelledby="input-schema-9"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">groupBy</span><span class="p">:</span> <span class="dl">'</span><span class="s1">status</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">businessType</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">riskLevel</span><span class="dl">'</span> <span class="o">|</span> <span class="dl">'</span><span class="s1">industry</span><span class="dl">'</span>
  <span class="nx">filters</span><span class="p">?:</span> <span class="nx">ClientFilters</span>           <span class="c1">// Same filters as list endpoint</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-9"> <a href="#response-schema-9" class="anchor-heading" aria-labelledby="response-schema-9"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
  <span class="p">[</span><span class="nx">groupBy</span><span class="p">]:</span> <span class="kr">string</span>                 <span class="c1">// The grouping field value</span>
  <span class="na">count</span><span class="p">:</span> <span class="kr">number</span>                     <span class="c1">// Number of clients in this group</span>
  <span class="na">totalRevenue</span><span class="p">:</span> <span class="kr">number</span>              <span class="c1">// Sum of annual revenue for this group</span>
  <span class="na">averageRevenue</span><span class="p">:</span> <span class="kr">number</span>            <span class="c1">// Average annual revenue for this group</span>
<span class="p">}</span><span class="o">&gt;</span>
</code></pre></div></div> <h4 id="example-usage-9"> <a href="#example-usage-9" class="anchor-heading" aria-labelledby="example-usage-9"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Get clients grouped by business type</span>
<span class="kd">const</span> <span class="nx">businessTypeStats</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">aggregations</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">groupBy</span><span class="p">:</span> <span class="dl">'</span><span class="s1">businessType</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">status</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="nx">businessTypeStats</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">group</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">group</span><span class="p">.</span><span class="nx">businessType</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">group</span><span class="p">.</span><span class="nx">count</span><span class="p">}</span><span class="s2"> clients, $</span><span class="p">${</span><span class="nx">group</span><span class="p">.</span><span class="nx">totalRevenue</span><span class="p">}</span><span class="s2"> revenue`</span><span class="p">)</span>
<span class="p">})</span>
</code></pre></div></div><hr /> <h3 id="11-get-recent-activity"> <a href="#11-get-recent-activity" class="anchor-heading" aria-labelledby="11-get-recent-activity"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 11. Get Recent Activity </h3> <p>Get recent client-related activity for dashboard display.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.recentActivity</code> <strong>Method:</strong> Query <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-10"> <a href="#input-schema-10" class="anchor-heading" aria-labelledby="input-schema-10"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">limit</span><span class="p">?:</span> <span class="kr">number</span>                    <span class="c1">// Maximum results (default: 10, max: 50)</span>
  <span class="nx">days</span><span class="p">?:</span> <span class="kr">number</span>                     <span class="c1">// Number of days to look back (default: 7, max: 90)</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-10"> <a href="#response-schema-10" class="anchor-heading" aria-labelledby="response-schema-10"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">recentClients</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">businessName</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">status</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">created</span><span class="dl">'</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span>
  <span class="p">}</span><span class="o">&gt;</span>
  <span class="nx">recentUpdates</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">id</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">businessName</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">status</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">updated</span><span class="dl">'</span>
    <span class="na">timestamp</span><span class="p">:</span> <span class="nb">Date</span>
  <span class="p">}</span><span class="o">&gt;</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="example-usage-10"> <a href="#example-usage-10" class="anchor-heading" aria-labelledby="example-usage-10"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Example Usage </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Get recent client activity for dashboard</span>
<span class="kd">const</span> <span class="nx">activity</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">recentActivity</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">limit</span><span class="p">:</span> <span class="mi">15</span><span class="p">,</span>
  <span class="na">days</span><span class="p">:</span> <span class="mi">14</span>
<span class="p">})</span>

<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">activity</span><span class="p">.</span><span class="nx">recentClients</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2"> new clients in last 14 days`</span><span class="p">)</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s2">`</span><span class="p">${</span><span class="nx">activity</span><span class="p">.</span><span class="nx">recentUpdates</span><span class="p">.</span><span class="nx">length</span><span class="p">}</span><span class="s2"> client updates in last 14 days`</span><span class="p">)</span>
</code></pre></div></div><hr /> <h3 id="12-validation-endpoints"> <a href="#12-validation-endpoints" class="anchor-heading" aria-labelledby="12-validation-endpoints"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 12. Validation Endpoints </h3> <h4 id="validate-business-name"> <a href="#validate-business-name" class="anchor-heading" aria-labelledby="validate-business-name"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Validate Business Name </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.validateBusinessName</code></p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Input</span>
<span class="p">{</span>
  <span class="nl">businessName</span><span class="p">:</span> <span class="kr">string</span>
  <span class="nx">excludeId</span><span class="p">?:</span> <span class="kr">string</span>                <span class="c1">// Exclude specific client ID from check</span>
<span class="p">}</span>

<span class="c1">// Response</span>
<span class="p">{</span>
  <span class="na">isAvailable</span><span class="p">:</span> <span class="nx">boolean</span>
  <span class="na">exists</span><span class="p">:</span> <span class="nx">boolean</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="validate-tax-id"> <a href="#validate-tax-id" class="anchor-heading" aria-labelledby="validate-tax-id"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Validate Tax ID </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.validateTaxId</code></p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Input</span>
<span class="p">{</span>
  <span class="nl">taxId</span><span class="p">:</span> <span class="kr">string</span>
  <span class="nx">excludeId</span><span class="p">?:</span> <span class="kr">string</span>
<span class="p">}</span>

<span class="c1">// Response</span>
<span class="p">{</span>
  <span class="na">isAvailable</span><span class="p">:</span> <span class="nx">boolean</span>
  <span class="na">exists</span><span class="p">:</span> <span class="nx">boolean</span>
<span class="p">}</span>
</code></pre></div></div><hr /> <h3 id="13-import-from-csv"> <a href="#13-import-from-csv" class="anchor-heading" aria-labelledby="13-import-from-csv"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 13. Import from CSV </h3> <p>Import clients from CSV data.</p> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.importFromCSV</code> <strong>Method:</strong> Mutation <strong>Authentication:</strong> Required (Organization scope)</p> <h4 id="input-schema-11"> <a href="#input-schema-11" class="anchor-heading" aria-labelledby="input-schema-11"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Input Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">csvData</span><span class="p">:</span> <span class="kr">string</span>                   <span class="c1">// CSV data as string</span>
  <span class="nx">options</span><span class="p">?:</span> <span class="p">{</span>
    <span class="nx">skipDuplicates</span><span class="p">?:</span> <span class="nx">boolean</span>        <span class="c1">// Skip existing clients (default: true)</span>
    <span class="nx">updateExisting</span><span class="p">?:</span> <span class="nx">boolean</span>        <span class="c1">// Update existing clients (default: false)</span>
    <span class="nx">mapping</span><span class="p">?:</span> <span class="nb">Record</span><span class="o">&lt;</span><span class="kr">string</span><span class="p">,</span> <span class="kr">string</span><span class="o">&gt;</span> <span class="c1">// Custom field mapping</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="response-schema-11"> <a href="#response-schema-11" class="anchor-heading" aria-labelledby="response-schema-11"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Response Schema </h4> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">success</span><span class="p">:</span> <span class="nx">boolean</span>
  <span class="nx">imported</span><span class="p">:</span> <span class="kr">number</span>                  <span class="c1">// Number of clients imported</span>
  <span class="nx">updated</span><span class="p">:</span> <span class="kr">number</span>                   <span class="c1">// Number of clients updated</span>
  <span class="nx">skipped</span><span class="p">:</span> <span class="kr">number</span>                   <span class="c1">// Number of clients skipped</span>
  <span class="nx">errors</span><span class="p">:</span> <span class="nb">Array</span><span class="o">&lt;</span><span class="p">{</span>
    <span class="na">row</span><span class="p">:</span> <span class="kr">number</span>
    <span class="na">error</span><span class="p">:</span> <span class="kr">string</span>
  <span class="p">}</span><span class="o">&gt;</span>
<span class="p">}</span>
</code></pre></div></div><hr /> <h3 id="14-additional-client-operations"> <a href="#14-additional-client-operations" class="anchor-heading" aria-labelledby="14-additional-client-operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 14. Additional Client Operations </h3> <h4 id="get-client-metrics"> <a href="#get-client-metrics" class="anchor-heading" aria-labelledby="get-client-metrics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get Client Metrics </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.getMetrics</code></p> <p>Get financial and engagement metrics for a specific client or organization.</p> <h4 id="get-client-documents"> <a href="#get-client-documents" class="anchor-heading" aria-labelledby="get-client-documents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get Client Documents </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.getDocuments</code></p> <p>Get paginated list of documents for a specific client.</p> <h4 id="get-client-tasks"> <a href="#get-client-tasks" class="anchor-heading" aria-labelledby="get-client-tasks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get Client Tasks </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.getTasks</code></p> <p>Get tasks associated with a specific client.</p> <h4 id="add-client-note"> <a href="#add-client-note" class="anchor-heading" aria-labelledby="add-client-note"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Add Client Note </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.addNote</code></p> <p>Add a note or communication record to a client.</p> <h4 id="update-risk-level"> <a href="#update-risk-level" class="anchor-heading" aria-labelledby="update-risk-level"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Update Risk Level </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.updateRiskLevel</code></p> <p>Update client risk assessment with detailed reasoning.</p> <h4 id="get-engagement-summary"> <a href="#get-engagement-summary" class="anchor-heading" aria-labelledby="get-engagement-summary"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get Engagement Summary </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.getEngagementSummary</code></p> <p>Get summary of services and engagements for a client.</p> <h4 id="get-quickbooks-status"> <a href="#get-quickbooks-status" class="anchor-heading" aria-labelledby="get-quickbooks-status"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get QuickBooks Status </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.getQuickBooksStatus</code></p> <p>Check QuickBooks integration status for a client.</p> <h4 id="get-audit-trail"> <a href="#get-audit-trail" class="anchor-heading" aria-labelledby="get-audit-trail"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Get Audit Trail </h4> <p><strong>Endpoint:</strong> <code class="language-plaintext highlighter-rouge">client.getAuditTrail</code></p> <p>Get audit log of all actions performed on a client.</p><hr /> <h2 id="error-handling"> <a href="#error-handling" class="anchor-heading" aria-labelledby="error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Handling </h2> <h3 id="common-error-codes"> <a href="#common-error-codes" class="anchor-heading" aria-labelledby="common-error-codes"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Common Error Codes </h3> <ul> <li><code class="language-plaintext highlighter-rouge">UNAUTHORIZED</code>: Missing or invalid authentication</li> <li><code class="language-plaintext highlighter-rouge">FORBIDDEN</code>: Insufficient permissions for the requested operation</li> <li><code class="language-plaintext highlighter-rouge">NOT_FOUND</code>: Client not found or not accessible</li> <li><code class="language-plaintext highlighter-rouge">CONFLICT</code>: Operation conflicts with existing data (duplicates, constraints)</li> <li><code class="language-plaintext highlighter-rouge">BAD_REQUEST</code>: Invalid input data or parameters</li> <li><code class="language-plaintext highlighter-rouge">RATE_LIMIT_EXCEEDED</code>: Too many requests</li> <li><code class="language-plaintext highlighter-rouge">INTERNAL_SERVER_ERROR</code>: Unexpected server error</li> </ul> <h3 id="error-response-format"> <a href="#error-response-format" class="anchor-heading" aria-labelledby="error-response-format"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Error Response Format </h3> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">error</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">message</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">code</span><span class="p">:</span> <span class="kr">string</span>
    <span class="na">data</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">code</span><span class="p">:</span> <span class="kr">string</span>
      <span class="na">httpStatus</span><span class="p">:</span> <span class="kr">number</span>
      <span class="na">path</span><span class="p">:</span> <span class="kr">string</span>
      <span class="nx">zodError</span><span class="p">?:</span> <span class="nx">ZodError</span>  <span class="c1">// For validation errors</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h2 id="best-practices"> <a href="#best-practices" class="anchor-heading" aria-labelledby="best-practices"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Best Practices </h2> <h3 id="1-pagination"> <a href="#1-pagination" class="anchor-heading" aria-labelledby="1-pagination"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Pagination </h3> <p>Always use pagination for list endpoints to avoid performance issues:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Good</span>
<span class="kd">const</span> <span class="nx">clients</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">pagination</span><span class="p">:</span> <span class="p">{</span> <span class="na">page</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="na">limit</span><span class="p">:</span> <span class="mi">25</span> <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// Avoid - could return thousands of records</span>
<span class="kd">const</span> <span class="nx">allClients</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">query</span><span class="p">()</span>
</code></pre></div></div> <h3 id="2-filtering"> <a href="#2-filtering" class="anchor-heading" aria-labelledby="2-filtering"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Filtering </h3> <p>Use specific filters to reduce data transfer and improve performance:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Good - specific filters</span>
<span class="kd">const</span> <span class="nx">activeCorps</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">list</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">filters</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">status</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">active</span><span class="dl">'</span><span class="p">],</span>
    <span class="na">businessType</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">corporation</span><span class="dl">'</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// Less efficient - broad search</span>
<span class="kd">const</span> <span class="nx">searched</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">search</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">query</span><span class="p">:</span> <span class="dl">'</span><span class="s1">corp</span><span class="dl">'</span>
<span class="p">})</span>
</code></pre></div></div> <h3 id="3-error-handling"> <a href="#3-error-handling" class="anchor-heading" aria-labelledby="3-error-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Error Handling </h3> <p>Always handle specific error types:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">try</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">byId</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span> <span class="na">id</span><span class="p">:</span> <span class="nx">clientId</span> <span class="p">})</span>
<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">data</span><span class="p">?.</span><span class="nx">code</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">NOT_FOUND</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Handle missing client</span>
  <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">error</span><span class="p">.</span><span class="nx">data</span><span class="p">?.</span><span class="nx">code</span> <span class="o">===</span> <span class="dl">'</span><span class="s1">UNAUTHORIZED</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Handle auth error</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="c1">// Handle unexpected errors</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="4-bulk-operations"> <a href="#4-bulk-operations" class="anchor-heading" aria-labelledby="4-bulk-operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Bulk Operations </h3> <p>Use bulk operations for multiple similar actions:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Good - single bulk operation</span>
<span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">bulkOperation</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">action</span><span class="p">:</span> <span class="dl">'</span><span class="s1">update</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">clientIds</span><span class="p">:</span> <span class="nx">clientIds</span><span class="p">,</span>
  <span class="na">data</span><span class="p">:</span> <span class="p">{</span> <span class="na">riskLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span> <span class="p">}</span>
<span class="p">})</span>

<span class="c1">// Inefficient - multiple individual operations</span>
<span class="k">for</span> <span class="p">(</span><span class="kd">const</span> <span class="nx">clientId</span> <span class="k">of</span> <span class="nx">clientIds</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">update</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
    <span class="na">id</span><span class="p">:</span> <span class="nx">clientId</span><span class="p">,</span>
    <span class="na">riskLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">medium</span><span class="dl">'</span>
  <span class="p">})</span>
<span class="p">}</span>
</code></pre></div></div> <h3 id="5-data-validation"> <a href="#5-data-validation" class="anchor-heading" aria-labelledby="5-data-validation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 5. Data Validation </h3> <p>Use the validation endpoints before creating/updating:</p> <div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Validate before creating</span>
<span class="kd">const</span> <span class="nx">nameCheck</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">validateBusinessName</span><span class="p">.</span><span class="nx">query</span><span class="p">({</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">New Company Inc</span><span class="dl">'</span>
<span class="p">})</span>

<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">nameCheck</span><span class="p">.</span><span class="nx">isAvailable</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Business name already exists</span><span class="dl">'</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">const</span> <span class="nx">newClient</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">client</span><span class="p">.</span><span class="nx">client</span><span class="p">.</span><span class="nx">create</span><span class="p">.</span><span class="nx">mutate</span><span class="p">({</span>
  <span class="na">businessName</span><span class="p">:</span> <span class="dl">'</span><span class="s1">New Company Inc</span><span class="dl">'</span><span class="p">,</span>
  <span class="c1">// ... other fields</span>
<span class="p">})</span>
</code></pre></div></div> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Built by the AdvisorOS team | Updated {{ site.time | date: '%B %d, %Y' }}</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
