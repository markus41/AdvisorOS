<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <link rel="stylesheet" href="/AdvisorOS/assets/css/just-the-docs-default.css"> <link rel="stylesheet" href="/AdvisorOS/assets/css/just-the-docs-head-nav.css" id="jtd-head-nav-stylesheet"> <style id="jtd-nav-activation"> .site-nav > ul.nav-list:first-child > li:not(:nth-child(19)) > a, .site-nav > ul.nav-list:first-child > li > ul > li a { background-image: none; } .site-nav > ul.nav-list:not(:first-child) a, .site-nav li.external a { background-image: none; } .site-nav > ul.nav-list:first-child > li:nth-child(19) > a { font-weight: 600; text-decoration: none; }.site-nav > ul.nav-list:first-child > li:nth-child(19) > button svg { transform: rotate(-90deg); }.site-nav > ul.nav-list:first-child > li.nav-list-item:nth-child(19) > ul.nav-list { display: block; } </style> <script src="/AdvisorOS/assets/js/vendor/lunr.min.js"></script> <script src="/AdvisorOS/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Administrator Guide | AdvisorOS Documentation</title> <meta name="generator" content="Jekyll v3.10.0" /> <meta property="og:title" content="Administrator Guide" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Implementation, adoption, and operations playbook for AdvisorOS." /> <meta property="og:description" content="Implementation, adoption, and operations playbook for AdvisorOS." /> <link rel="canonical" href="https://markus41.github.io/AdvisorOS/ADMINISTRATOR_GUIDE.html" /> <meta property="og:url" content="https://markus41.github.io/AdvisorOS/ADMINISTRATOR_GUIDE.html" /> <meta property="og:site_name" content="AdvisorOS Documentation" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Administrator Guide" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","description":"Implementation, adoption, and operations playbook for AdvisorOS.","headline":"Administrator Guide","url":"https://markus41.github.io/AdvisorOS/ADMINISTRATOR_GUIDE.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <!-- Feather. MIT License: https://github.com/feathericons/feather/blob/master/LICENSE --> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"> <title id="svg-external-link-title">(external link)</title> <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <!-- Bootstrap Icons. MIT License: https://github.com/twbs/icons/blob/main/LICENSE.md --> <symbol id="svg-copy" viewBox="0 0 16 16"> <title>Copy</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/> <path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"> <title>Copied</title> <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"> <path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/> <path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header" role="banner"> <a href="/AdvisorOS/" class="site-title lh-tight"> AdvisorOS Documentation </a> <button id="menu-button" class="site-button btn-reset" aria-label="Toggle menu" aria-pressed="false"> <svg viewBox="0 0 24 24" class="icon" aria-hidden="true"><use xlink:href="#svg-menu"></use></svg> </button> </div> <nav aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="/AdvisorOS/wiki/" class="nav-list-link">AdvisorOS Wiki</a></li><li class="nav-list-item"><a href="/AdvisorOS/" class="nav-list-link">Overview</a></li><li class="nav-list-item"><a href="/AdvisorOS/business/" class="nav-list-link">Business Overview</a></li><li class="nav-list-item"><a href="/AdvisorOS/FEATURES.html" class="nav-list-link">Product Capabilities</a></li><li class="nav-list-item"><a href="/AdvisorOS/strategic/" class="nav-list-link">Strategic Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/QUICK_START.html" class="nav-list-link">Executive Quick Start</a></li><li class="nav-list-item"><a href="/AdvisorOS/README.html" class="nav-list-link">Documentation Home</a></li><li class="nav-list-item"><a href="/AdvisorOS/technical/" class="nav-list-link">Technical Hub</a></li><li class="nav-list-item"><a href="/AdvisorOS/integrations/" class="nav-list-link">Integrations Hub</a></li><li class="nav-list-item"><a href="/AdvisorOS/security/" class="nav-list-link">Security & Compliance</a></li><li class="nav-list-item"><a href="/AdvisorOS/ARCHITECTURE.html" class="nav-list-link">Architecture</a></li><li class="nav-list-item"><a href="/AdvisorOS/API_REFERENCE.html" class="nav-list-link">API Reference</a></li><li class="nav-list-item"><a href="/AdvisorOS/USER_GUIDE_COMPREHENSIVE.html" class="nav-list-link">User Guide (Comprehensive)</a></li><li class="nav-list-item"><a href="/AdvisorOS/README_USER.html" class="nav-list-link">Implementation Runbook</a></li><li class="nav-list-item"><a href="/AdvisorOS/CLIENT_PORTAL_GUIDE.html" class="nav-list-link">Client Portal Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/DATABASE.html" class="nav-list-link">Database Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/DEVELOPER_SETUP_ENHANCED.html" class="nav-list-link">Developer Environment Setup</a></li><li class="nav-list-item"><a href="/AdvisorOS/DEPLOYMENT.html" class="nav-list-link">Deployment Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/ADMINISTRATOR_GUIDE.html" class="nav-list-link">Administrator Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/INTEGRATION_GUIDES.html" class="nav-list-link">Integration Guides</a></li><li class="nav-list-item"><a href="/AdvisorOS/QUICKBOOKS_SETUP.html" class="nav-list-link">QuickBooks Setup</a></li><li class="nav-list-item"><a href="/AdvisorOS/README_DEV.html" class="nav-list-link">Developer Setup</a></li><li class="nav-list-item"><a href="/AdvisorOS/TROUBLESHOOTING.html" class="nav-list-link">Troubleshooting</a></li><li class="nav-list-item"><button class="nav-list-expander btn-reset" aria-label="toggle items in Operations Command Center category" aria-pressed="false"> <svg viewBox="0 0 24 24" aria-hidden="true"><use xlink:href="#svg-arrow-right"></use></svg> </button><a href="/AdvisorOS/operations/" class="nav-list-link">Operations Command Center</a><ul class="nav-list"><li class="nav-list-item"><a href="/AdvisorOS/operations/incident-response.html" class="nav-list-link">Incident Response Playbook</a></li><li class="nav-list-item"><a href="/AdvisorOS/operations/RUNBOOK.html" class="nav-list-link">Operations Runbook</a></li><li class="nav-list-item"><a href="/AdvisorOS/operations/DEPLOYMENT_GUIDE.html" class="nav-list-link">Production Deployment Guide</a></li></ul></li><li class="nav-list-item"><a href="/AdvisorOS/compliance/README.html" class="nav-list-link">Compliance Overview</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/001-multi-tenant-data-isolation.html" class="nav-list-link">ADR-001: Multi-Tenant Data Isolation Strategy</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/002-prisma-schema-design.html" class="nav-list-link">ADR-002: Prisma Schema Design and Relationships</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/003-nextjs-app-router-api-design.html" class="nav-list-link">ADR-003: Next.js App Router Structure and API Design</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/004-azure-infrastructure-scaling.html" class="nav-list-link">ADR-004: Azure Infrastructure Choices and Scaling Strategy</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/005-security-architecture-compliance.html" class="nav-list-link">ADR-005: Security Architecture and Compliance Framework</a></li><li class="nav-list-item"><a href="/AdvisorOS/api/" class="nav-list-link">AdvisorOS API Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/admin/" class="nav-list-link">AdvisorOS Administrator Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/ARCHITECTURE_AUDIT_SUMMARY.html" class="nav-list-link">AdvisorOS Architecture Audit Summary</a></li><li class="nav-list-item"><a href="/AdvisorOS/COST_OPTIMIZATION_STRATEGY.html" class="nav-list-link">AdvisorOS Cost Optimization Strategy</a></li><li class="nav-list-item"><a href="/AdvisorOS/developer/" class="nav-list-link">AdvisorOS Developer Documentation</a></li><li class="nav-list-item"><a href="/AdvisorOS/FAQ_TROUBLESHOOTING.html" class="nav-list-link">AdvisorOS FAQ &amp; Troubleshooting Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/PRODUCTION_READINESS_CHECKLIST.html" class="nav-list-link">AdvisorOS Production Readiness Checklist</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/TECHNICAL_DEBT_ANALYSIS.html" class="nav-list-link">AdvisorOS Technical Debt Analysis and Improvement Roadmap</a></li><li class="nav-list-item"><a href="/AdvisorOS/templates/TECHNICAL_DOC_TEMPLATE.html" class="nav-list-link">AdvisorOS Technical Doc Template</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/" class="nav-list-link">AdvisorOS User Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/architecture/adrs/" class="nav-list-link">Architectural Decision Records (ADRs)</a></li><li class="nav-list-item"><a href="/AdvisorOS/admin/infrastructure/azure-deployment.html" class="nav-list-link">Azure Deployment Guide for AdvisorOS</a></li><li class="nav-list-item"><a href="/AdvisorOS/api-specs/endpoints.html" class="nav-list-link">CPA Platform API Specifications</a></li><li class="nav-list-item"><a href="/AdvisorOS/design-system/components.html" class="nav-list-link">CPA Platform Design System - Components</a></li><li class="nav-list-item"><a href="/AdvisorOS/api/routes/client.html" class="nav-list-link">Client Management API</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/cpa-firms/client-management.html" class="nav-list-link">Client Management Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/clients/client-portal-guide.html" class="nav-list-link">Client Portal User Guide</a></li><li class="nav-list-item"><a href="/AdvisorOS/user-guide/cpa-firms/getting-started.html" class="nav-list-link">Getting Started with AdvisorOS</a></li><li class="nav-list-item"><a href="/AdvisorOS/compliance/soc2/overview.html" class="nav-list-link">SOC 2 Type II Compliance Overview</a></li></ul> <ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/markus41/AdvisorOS/blob/main/ADVISOROS_COMPREHENSIVE_ENHANCEMENT_PORTFOLIO.md" class="nav-list-link external" > Product Overview (PDF) <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a> </li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search" role="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search AdvisorOS Documentation" aria-label="Search AdvisorOS Documentation" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/markus41/AdvisorOS" class="site-button" > AdvisorOS on GitHub </a> </li> </ul> </nav> </div> <div class="main-content-wrap"> <div id="main-content" class="main-content"> <main> <h1 id="advisoros-administrator-guide"> <a href="#advisoros-administrator-guide" class="anchor-heading" aria-labelledby="advisoros-administrator-guide"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> AdvisorOS Administrator Guide </h1> <h2 id="table-of-contents"> <a href="#table-of-contents" class="anchor-heading" aria-labelledby="table-of-contents"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h2> <ol> <li><a href="#system-administration-overview">System Administration Overview</a></li> <li><a href="#installation--initial-setup">Installation &amp; Initial Setup</a></li> <li><a href="#user--organization-management">User &amp; Organization Management</a></li> <li><a href="#security-configuration">Security Configuration</a></li> <li><a href="#data-management--backup">Data Management &amp; Backup</a></li> <li><a href="#performance-monitoring">Performance Monitoring</a></li> <li><a href="#integration-management">Integration Management</a></li> <li><a href="#compliance--audit">Compliance &amp; Audit</a></li> <li><a href="#scaling--optimization">Scaling &amp; Optimization</a></li> <li><a href="#maintenance--updates">Maintenance &amp; Updates</a></li> <li><a href="#troubleshooting">Troubleshooting</a></li> <li><a href="#disaster-recovery">Disaster Recovery</a></li> </ol><hr /> <h2 id="system-administration-overview"> <a href="#system-administration-overview" class="anchor-heading" aria-labelledby="system-administration-overview"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System Administration Overview </h2> <h3 id="administrator-responsibilities"> <a href="#administrator-responsibilities" class="anchor-heading" aria-labelledby="administrator-responsibilities"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Administrator Responsibilities </h3> <h4 id="system-management"> <a href="#system-management" class="anchor-heading" aria-labelledby="system-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System Management </h4> <ul> <li><strong>Infrastructure Monitoring</strong>: Server health, performance metrics, resource utilization</li> <li><strong>Security Management</strong>: Access controls, authentication, vulnerability monitoring</li> <li><strong>Data Governance</strong>: Backup strategies, retention policies, compliance management</li> <li><strong>User Administration</strong>: Account management, role assignments, access reviews</li> <li><strong>Integration Oversight</strong>: Third-party service configurations and monitoring</li> </ul> <h4 id="operational-excellence"> <a href="#operational-excellence" class="anchor-heading" aria-labelledby="operational-excellence"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Operational Excellence </h4> <ul> <li><strong>Performance Optimization</strong>: System tuning, capacity planning, bottleneck resolution</li> <li><strong>Change Management</strong>: Update deployment, configuration changes, rollback procedures</li> <li><strong>Incident Response</strong>: Issue resolution, escalation procedures, post-incident reviews</li> <li><strong>Documentation</strong>: System documentation, procedures, runbooks maintenance</li> <li><strong>Training</strong>: User training, knowledge transfer, best practice dissemination</li> </ul> <h3 id="administrative-roles-and-permissions"> <a href="#administrative-roles-and-permissions" class="anchor-heading" aria-labelledby="administrative-roles-and-permissions"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Administrative Roles and Permissions </h3> <h4 id="super-administrator"> <a href="#super-administrator" class="anchor-heading" aria-labelledby="super-administrator"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Super Administrator </h4> <ul> <li><strong>Full System Access</strong>: Complete control over all system components</li> <li><strong>Organization Management</strong>: Create, modify, delete organizations</li> <li><strong>Global Settings</strong>: System-wide configuration and policies</li> <li><strong>Security Management</strong>: Security policies, audit controls, compliance settings</li> <li><strong>Infrastructure Control</strong>: Server management, database administration</li> </ul> <h4 id="organization-administrator"> <a href="#organization-administrator" class="anchor-heading" aria-labelledby="organization-administrator"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Organization Administrator </h4> <ul> <li><strong>Organization-Specific Control</strong>: Management within single organization</li> <li><strong>User Management</strong>: Create, modify, deactivate user accounts</li> <li><strong>Settings Configuration</strong>: Organization-specific settings and preferences</li> <li><strong>Feature Management</strong>: Enable/disable features for organization</li> <li><strong>Billing Management</strong>: Subscription and payment administration</li> </ul> <h4 id="security-administrator"> <a href="#security-administrator" class="anchor-heading" aria-labelledby="security-administrator"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Security Administrator </h4> <ul> <li><strong>Security Policy Management</strong>: Authentication, authorization, encryption policies</li> <li><strong>Audit Management</strong>: Audit log configuration, compliance reporting</li> <li><strong>Incident Response</strong>: Security incident management and resolution</li> <li><strong>Vulnerability Management</strong>: Security scanning, patch management</li> <li><strong>Access Reviews</strong>: Regular access certification and cleanup</li> </ul><hr /> <h2 id="installation--initial-setup"> <a href="#installation--initial-setup" class="anchor-heading" aria-labelledby="installation--initial-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installation &amp; Initial Setup </h2> <h3 id="system-requirements"> <a href="#system-requirements" class="anchor-heading" aria-labelledby="system-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System Requirements </h3> <h4 id="hardware-requirements"> <a href="#hardware-requirements" class="anchor-heading" aria-labelledby="hardware-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Hardware Requirements </h4> <ul> <li><strong>Minimum Production Setup</strong>: <ul> <li>CPU: 8 cores, 2.4GHz or higher</li> <li>RAM: 32GB minimum, 64GB recommended</li> <li>Storage: 1TB SSD for application, 5TB for data</li> <li>Network: 1Gbps connection with redundancy</li> </ul> </li> <li><strong>Recommended Production Setup</strong>: <ul> <li>CPU: 16 cores, 3.0GHz or higher</li> <li>RAM: 128GB or higher</li> <li>Storage: 2TB NVMe SSD for application, 10TB+ for data</li> <li>Network: 10Gbps connection with redundancy</li> </ul> </li> </ul> <h4 id="software-requirements"> <a href="#software-requirements" class="anchor-heading" aria-labelledby="software-requirements"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Software Requirements </h4> <ul> <li><strong>Operating System</strong>: Ubuntu 20.04 LTS or CentOS 8</li> <li><strong>Node.js</strong>: Version 18.17.0 or higher</li> <li><strong>PostgreSQL</strong>: Version 14 or higher</li> <li><strong>Redis</strong>: Version 6.0 or higher</li> <li><strong>Nginx</strong>: Version 1.20 or higher (reverse proxy)</li> <li><strong>Docker</strong>: Version 20.10 or higher (optional, for containerized deployment)</li> </ul> <h3 id="installation-process"> <a href="#installation-process" class="anchor-heading" aria-labelledby="installation-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Installation Process </h3> <h4 id="1-environment-preparation"> <a href="#1-environment-preparation" class="anchor-heading" aria-labelledby="1-environment-preparation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 1. Environment Preparation </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Update system packages</span>
<span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>

<span class="c"># Install Node.js 18.x</span>
curl <span class="nt">-fsSL</span> https://deb.nodesource.com/setup_18.x | <span class="nb">sudo</span> <span class="nt">-E</span> bash -
<span class="nb">sudo </span>apt-get <span class="nb">install</span> <span class="nt">-y</span> nodejs

<span class="c"># Install PostgreSQL 14</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>postgresql postgresql-contrib
<span class="nb">sudo </span>systemctl start postgresql
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>postgresql

<span class="c"># Install Redis</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>redis-server
<span class="nb">sudo </span>systemctl start redis-server
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>redis-server

<span class="c"># Install Nginx</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>nginx
<span class="nb">sudo </span>systemctl start nginx
<span class="nb">sudo </span>systemctl <span class="nb">enable </span>nginx
</code></pre></div></div> <h4 id="2-database-setup"> <a href="#2-database-setup" class="anchor-heading" aria-labelledby="2-database-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 2. Database Setup </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Create database and user</span>
<span class="n">sudo</span> <span class="o">-</span><span class="n">u</span> <span class="n">postgres</span> <span class="n">psql</span>
<span class="k">CREATE</span> <span class="k">DATABASE</span> <span class="n">advisoros_production</span><span class="p">;</span>
<span class="k">CREATE</span> <span class="k">USER</span> <span class="n">advisoros_user</span> <span class="k">WITH</span> <span class="k">ENCRYPTED</span> <span class="n">PASSWORD</span> <span class="s1">'secure_password_here'</span><span class="p">;</span>
<span class="k">GRANT</span> <span class="k">ALL</span> <span class="k">PRIVILEGES</span> <span class="k">ON</span> <span class="k">DATABASE</span> <span class="n">advisoros_production</span> <span class="k">TO</span> <span class="n">advisoros_user</span><span class="p">;</span>
<span class="err">\</span><span class="n">q</span>
</code></pre></div></div> <h4 id="3-application-deployment"> <a href="#3-application-deployment" class="anchor-heading" aria-labelledby="3-application-deployment"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 3. Application Deployment </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Clone repository</span>
git clone https://github.com/your-org/advisoros.git
<span class="nb">cd </span>advisoros

<span class="c"># Install dependencies</span>
npm <span class="nb">install</span>

<span class="c"># Configure environment variables</span>
<span class="nb">cp</span> .env.example .env.production
nano .env.production

<span class="c"># Run database migrations</span>
npm run db:migrate:production

<span class="c"># Build application</span>
npm run build

<span class="c"># Start application</span>
npm run start:production
</code></pre></div></div> <h4 id="4-initial-configuration"> <a href="#4-initial-configuration" class="anchor-heading" aria-labelledby="4-initial-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> 4. Initial Configuration </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Create super administrator account</span>
npm run create-admin <span class="nt">--</span> <span class="nt">--email</span> admin@yourcompany.com <span class="nt">--name</span> <span class="s2">"Admin User"</span>

<span class="c"># Set up initial organization</span>
npm run create-org <span class="nt">--</span> <span class="nt">--name</span> <span class="s2">"Your Organization"</span> <span class="nt">--subdomain</span> <span class="s2">"yourorg"</span>

<span class="c"># Configure system settings</span>
npm run setup:initial-config
</code></pre></div></div> <h3 id="environment-configuration"> <a href="#environment-configuration" class="anchor-heading" aria-labelledby="environment-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Environment Configuration </h3> <h4 id="production-environment-variables"> <a href="#production-environment-variables" class="anchor-heading" aria-labelledby="production-environment-variables"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Production Environment Variables </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Database Configuration</span>
<span class="nv">DATABASE_URL</span><span class="o">=</span><span class="s2">"postgresql://advisoros_user:password@localhost:5432/advisoros_production"</span>

<span class="c"># Authentication</span>
<span class="nv">NEXTAUTH_SECRET</span><span class="o">=</span><span class="s2">"your-secret-key-here"</span>
<span class="nv">NEXTAUTH_URL</span><span class="o">=</span><span class="s2">"https://your-domain.com"</span>

<span class="c"># Storage Configuration</span>
<span class="nv">AZURE_STORAGE_CONNECTION_STRING</span><span class="o">=</span><span class="s2">"your-azure-connection-string"</span>
<span class="nv">AZURE_STORAGE_CONTAINER</span><span class="o">=</span><span class="s2">"advisoros-documents"</span>

<span class="c"># External Service API Keys</span>
<span class="nv">QUICKBOOKS_CLIENT_ID</span><span class="o">=</span><span class="s2">"your-qb-client-id"</span>
<span class="nv">QUICKBOOKS_CLIENT_SECRET</span><span class="o">=</span><span class="s2">"your-qb-client-secret"</span>
<span class="nv">STRIPE_SECRET_KEY</span><span class="o">=</span><span class="s2">"your-stripe-secret-key"</span>
<span class="nv">OPENAI_API_KEY</span><span class="o">=</span><span class="s2">"your-openai-api-key"</span>

<span class="c"># System Configuration</span>
<span class="nv">NODE_ENV</span><span class="o">=</span><span class="s2">"production"</span>
<span class="nv">PORT</span><span class="o">=</span><span class="s2">"3000"</span>
<span class="nv">REDIS_URL</span><span class="o">=</span><span class="s2">"redis://localhost:6379"</span>

<span class="c"># Email Configuration</span>
<span class="nv">SMTP_HOST</span><span class="o">=</span><span class="s2">"smtp.yourprovider.com"</span>
<span class="nv">SMTP_PORT</span><span class="o">=</span><span class="s2">"587"</span>
<span class="nv">SMTP_USER</span><span class="o">=</span><span class="s2">"notifications@yourcompany.com"</span>
<span class="nv">SMTP_PASS</span><span class="o">=</span><span class="s2">"your-smtp-password"</span>

<span class="c"># Monitoring and Logging</span>
<span class="nv">LOG_LEVEL</span><span class="o">=</span><span class="s2">"info"</span>
<span class="nv">SENTRY_DSN</span><span class="o">=</span><span class="s2">"your-sentry-dsn"</span>
<span class="nv">NEW_RELIC_LICENSE_KEY</span><span class="o">=</span><span class="s2">"your-newrelic-key"</span>
</code></pre></div></div> <h4 id="ssltls-configuration"> <a href="#ssltls-configuration" class="anchor-heading" aria-labelledby="ssltls-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SSL/TLS Configuration </h4> <div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Nginx SSL configuration</span>
<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span> <span class="s">http2</span><span class="p">;</span>
    <span class="kn">server_name</span> <span class="s">your-domain.com</span><span class="p">;</span>

    <span class="kn">ssl_certificate</span> <span class="n">/path/to/your/certificate.crt</span><span class="p">;</span>
    <span class="kn">ssl_certificate_key</span> <span class="n">/path/to/your/private.key</span><span class="p">;</span>
    <span class="kn">ssl_protocols</span> <span class="s">TLSv1.2</span> <span class="s">TLSv1.3</span><span class="p">;</span>
    <span class="kn">ssl_ciphers</span> <span class="s">ECDHE-RSA-AES256-GCM-SHA512:DHE-RSA-AES256-GCM-SHA512</span><span class="p">;</span>
    <span class="kn">ssl_prefer_server_ciphers</span> <span class="no">off</span><span class="p">;</span>

    <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
        <span class="kn">proxy_pass</span> <span class="s">http://localhost:3000</span><span class="p">;</span>
        <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Upgrade</span> <span class="nv">$http_upgrade</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="s">'upgrade'</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-Proto</span> <span class="nv">$scheme</span><span class="p">;</span>
        <span class="kn">proxy_cache_bypass</span> <span class="nv">$http_upgrade</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div><hr /> <h2 id="user--organization-management"> <a href="#user--organization-management" class="anchor-heading" aria-labelledby="user--organization-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User &amp; Organization Management </h2> <h3 id="organization-administration"> <a href="#organization-administration" class="anchor-heading" aria-labelledby="organization-administration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Organization Administration </h3> <h4 id="creating-organizations"> <a href="#creating-organizations" class="anchor-heading" aria-labelledby="creating-organizations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Creating Organizations </h4> <ol> <li><strong>Access Super Admin Panel</strong>: <ul> <li>Navigate to <code class="language-plaintext highlighter-rouge">/admin/organizations</code></li> <li>Click “Create New Organization”</li> <li>Complete organization details: <ul> <li>Organization name and legal information</li> <li>Subdomain selection (must be unique)</li> <li>Initial subscription tier</li> <li>Primary administrator details</li> </ul> </li> </ul> </li> <li><strong>Organization Configuration</strong>: <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Example CPA Firm"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subdomain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"examplecpa"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"subscriptionTier"</span><span class="p">:</span><span class="w"> </span><span class="s2">"professional"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"settings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"timezone"</span><span class="p">:</span><span class="w"> </span><span class="s2">"America/New_York"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"fiscalYearEnd"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12-31"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"currency"</span><span class="p">:</span><span class="w"> </span><span class="s2">"USD"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxUsers"</span><span class="p">:</span><span class="w"> </span><span class="mi">25</span><span class="p">,</span><span class="w">
    </span><span class="nl">"maxStorage"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100GB"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"features"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"quickbooksIntegration"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"advancedReporting"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiAccess"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"customBranding"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> </ol> <h4 id="organization-settings-management"> <a href="#organization-settings-management" class="anchor-heading" aria-labelledby="organization-settings-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Organization Settings Management </h4> <ul> <li><strong>Subscription Management</strong>: Plan changes, billing configuration, usage monitoring</li> <li><strong>Feature Toggles</strong>: Enable/disable features based on subscription tier</li> <li><strong>Resource Limits</strong>: Storage quotas, user limits, API rate limits</li> <li><strong>Custom Configuration</strong>: Organization-specific settings and preferences</li> </ul> <h3 id="user-management"> <a href="#user-management" class="anchor-heading" aria-labelledby="user-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Management </h3> <h4 id="user-account-lifecycle"> <a href="#user-account-lifecycle" class="anchor-heading" aria-labelledby="user-account-lifecycle"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Account Lifecycle </h4> <ol> <li><strong>Account Creation</strong>: <ul> <li>Manual creation by administrators</li> <li>Invitation-based registration</li> <li>Bulk user import from CSV</li> <li>API-based account provisioning</li> </ul> </li> <li><strong>Account Modification</strong>: <ul> <li>Profile information updates</li> <li>Role and permission changes</li> <li>Department/team assignments</li> <li>Access level modifications</li> </ul> </li> <li><strong>Account Deactivation</strong>: <ul> <li>Temporary suspension</li> <li>Permanent deactivation</li> <li>Data retention handling</li> <li>Access cleanup procedures</li> </ul> </li> </ol> <h4 id="role-based-access-control-rbac"> <a href="#role-based-access-control-rbac" class="anchor-heading" aria-labelledby="role-based-access-control-rbac"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Role-Based Access Control (RBAC) </h4> <h5 id="standard-roles"> <a href="#standard-roles" class="anchor-heading" aria-labelledby="standard-roles"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Standard Roles </h5> <ul> <li><strong>Organization Owner</strong>: Complete organization control</li> <li><strong>Administrator</strong>: User and settings management</li> <li><strong>CPA</strong>: Full client access with limited admin features</li> <li><strong>Staff</strong>: Client-specific access based on assignments</li> <li><strong>Client</strong>: Limited portal access for own data</li> </ul> <h5 id="custom-role-creation"> <a href="#custom-role-creation" class="anchor-heading" aria-labelledby="custom-role-creation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom Role Creation </h5> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"roleName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Senior Tax Specialist"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"permissions"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"clients"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"create"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"read"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"update"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"delete"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"upload"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"process"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"approve"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"delete"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"reports"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"generate"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"schedule"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"distribute"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"workflows"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"execute"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"modify"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
      </span><span class="nl">"create"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"clientAccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"assigned_only"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"dataAccess"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restricted"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="access-management"> <a href="#access-management" class="anchor-heading" aria-labelledby="access-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Access Management </h4> <h5 id="permission-matrix"> <a href="#permission-matrix" class="anchor-heading" aria-labelledby="permission-matrix"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Permission Matrix </h5> <p>| Resource | Owner | Admin | CPA | Staff | Client | |———-|——-|——-|—–|——-|——–| | Organization Settings | Full | Limited | None | None | None | | User Management | Full | Full | None | None | None | | All Clients | Full | Full | Full | Assigned | Own | | Financial Data | Full | Full | Full | Assigned | Own | | System Configuration | Full | Limited | None | None | None | | Billing Information | Full | View | None | None | None |</p> <h5 id="conditional-access"> <a href="#conditional-access" class="anchor-heading" aria-labelledby="conditional-access"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conditional Access </h5> <ul> <li><strong>IP Address Restrictions</strong>: Limit access to specific IP ranges</li> <li><strong>Time-Based Access</strong>: Restrict access to business hours</li> <li><strong>Device-Based Access</strong>: Approve/block specific devices</li> <li><strong>Location-Based Access</strong>: Geographic access restrictions</li> </ul> <h3 id="bulk-operations"> <a href="#bulk-operations" class="anchor-heading" aria-labelledby="bulk-operations"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bulk Operations </h3> <h4 id="bulk-user-management"> <a href="#bulk-user-management" class="anchor-heading" aria-labelledby="bulk-user-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bulk User Management </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Bulk user import from CSV</span>
npm run import-users <span class="nt">--</span> <span class="nt">--file</span> users.csv <span class="nt">--organization</span> orgId

<span class="c"># Bulk role assignment</span>
npm run assign-roles <span class="nt">--</span> <span class="nt">--users</span> user1,user2,user3 <span class="nt">--role</span> cpa

<span class="c"># Bulk deactivation</span>
npm run deactivate-users <span class="nt">--</span> <span class="nt">--file</span> inactive_users.csv
</code></pre></div></div> <h4 id="user-data-export"> <a href="#user-data-export" class="anchor-heading" aria-labelledby="user-data-export"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> User Data Export </h4> <ul> <li><strong>User Directory Export</strong>: Complete user listing with roles</li> <li><strong>Access Report Export</strong>: User permissions and access levels</li> <li><strong>Activity Report Export</strong>: User activity and login history</li> <li><strong>Compliance Report Export</strong>: Access certifications and reviews</li> </ul><hr /> <h2 id="security-configuration"> <a href="#security-configuration" class="anchor-heading" aria-labelledby="security-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Security Configuration </h2> <h3 id="authentication-management"> <a href="#authentication-management" class="anchor-heading" aria-labelledby="authentication-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authentication Management </h3> <h4 id="multi-factor-authentication-mfa"> <a href="#multi-factor-authentication-mfa" class="anchor-heading" aria-labelledby="multi-factor-authentication-mfa"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Multi-Factor Authentication (MFA) </h4> <ol> <li><strong>Organization-Wide MFA Policy</strong>: <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"mfaPolicy"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"required"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"enforcementLevel"</span><span class="p">:</span><span class="w"> </span><span class="s2">"strict"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"allowedMethods"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"totp"</span><span class="p">,</span><span class="w"> </span><span class="s2">"sms"</span><span class="p">,</span><span class="w"> </span><span class="s2">"email"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"backupCodes"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"gracePeriod"</span><span class="p">:</span><span class="w"> </span><span class="mi">7</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div> </div> </li> <li><strong>MFA Configuration</strong>: <ul> <li><strong>TOTP (Time-based One-Time Password)</strong>: Google Authenticator, Authy</li> <li><strong>SMS Verification</strong>: Phone number-based verification</li> <li><strong>Email Verification</strong>: Email-based backup method</li> <li><strong>Hardware Tokens</strong>: FIDO2/WebAuthn support</li> </ul> </li> </ol> <h4 id="single-sign-on-sso-integration"> <a href="#single-sign-on-sso-integration" class="anchor-heading" aria-labelledby="single-sign-on-sso-integration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Single Sign-On (SSO) Integration </h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"ssoConfig"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"provider"</span><span class="p">:</span><span class="w"> </span><span class="s2">"azure_ad"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-azure-client-id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientSecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-azure-client-secret"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"tenantId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-azure-tenant-id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-domain.com/auth/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"autoProvisioning"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"defaultRole"</span><span class="p">:</span><span class="w"> </span><span class="s2">"staff"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="password-policies"> <a href="#password-policies" class="anchor-heading" aria-labelledby="password-policies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Password Policies </h4> <ul> <li><strong>Complexity Requirements</strong>: Minimum length, character requirements</li> <li><strong>Expiration Policies</strong>: Automatic password expiration</li> <li><strong>History Management</strong>: Prevent password reuse</li> <li><strong>Breach Protection</strong>: Integration with breach databases</li> </ul> <h3 id="network-security"> <a href="#network-security" class="anchor-heading" aria-labelledby="network-security"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Network Security </h3> <h4 id="firewall-configuration"> <a href="#firewall-configuration" class="anchor-heading" aria-labelledby="firewall-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Firewall Configuration </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># UFW (Uncomplicated Firewall) configuration</span>
<span class="nb">sudo </span>ufw default deny incoming
<span class="nb">sudo </span>ufw default allow outgoing
<span class="nb">sudo </span>ufw allow ssh
<span class="nb">sudo </span>ufw allow 80/tcp
<span class="nb">sudo </span>ufw allow 443/tcp
<span class="nb">sudo </span>ufw allow from 10.0.0.0/8 to any port 5432  <span class="c"># Database access</span>
<span class="nb">sudo </span>ufw <span class="nb">enable</span>
</code></pre></div></div> <h4 id="ddos-protection"> <a href="#ddos-protection" class="anchor-heading" aria-labelledby="ddos-protection"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> DDoS Protection </h4> <ul> <li><strong>Rate Limiting</strong>: Request rate limits per IP/user</li> <li><strong>Traffic Filtering</strong>: Malicious traffic detection and blocking</li> <li><strong>CDN Integration</strong>: CloudFlare or similar service integration</li> <li><strong>Monitoring</strong>: Real-time attack detection and alerts</li> </ul> <h4 id="vpn-configuration"> <a href="#vpn-configuration" class="anchor-heading" aria-labelledby="vpn-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> VPN Configuration </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># OpenVPN server setup for secure admin access</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>openvpn easy-rsa
make-cadir ~/openvpn-ca
<span class="nb">cd</span> ~/openvpn-ca
./easyrsa init-pki
./easyrsa build-ca
./easyrsa gen-req server nopass
./easyrsa sign-req server server
./easyrsa gen-dh
</code></pre></div></div> <h3 id="data-encryption"> <a href="#data-encryption" class="anchor-heading" aria-labelledby="data-encryption"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Encryption </h3> <h4 id="encryption-at-rest"> <a href="#encryption-at-rest" class="anchor-heading" aria-labelledby="encryption-at-rest"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Encryption at Rest </h4> <ul> <li><strong>Database Encryption</strong>: PostgreSQL TDE (Transparent Data Encryption)</li> <li><strong>File System Encryption</strong>: LUKS full disk encryption</li> <li><strong>Backup Encryption</strong>: Encrypted backup storage</li> <li><strong>Key Management</strong>: Hardware Security Module (HSM) or cloud KMS</li> </ul> <h4 id="encryption-in-transit"> <a href="#encryption-in-transit" class="anchor-heading" aria-labelledby="encryption-in-transit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Encryption in Transit </h4> <ul> <li><strong>TLS Configuration</strong>: TLS 1.2/1.3 for all communications</li> <li><strong>Certificate Management</strong>: Automated certificate renewal</li> <li><strong>API Security</strong>: API endpoint encryption and authentication</li> <li><strong>Internal Communications</strong>: Service-to-service encryption</li> </ul> <h3 id="vulnerability-management"> <a href="#vulnerability-management" class="anchor-heading" aria-labelledby="vulnerability-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Vulnerability Management </h3> <h4 id="security-scanning"> <a href="#security-scanning" class="anchor-heading" aria-labelledby="security-scanning"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Security Scanning </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Automated security scanning</span>
npm audit <span class="nt">--audit-level</span> high
docker run <span class="nt">--rm</span> <span class="nt">-v</span> <span class="s2">"</span><span class="nv">$PWD</span><span class="s2">"</span>:/app clair-scanner
nmap <span class="nt">-sS</span> <span class="nt">-sV</span> your-domain.com
</code></pre></div></div> <h4 id="patch-management"> <a href="#patch-management" class="anchor-heading" aria-labelledby="patch-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Patch Management </h4> <ul> <li><strong>Operating System Updates</strong>: Automated security updates</li> <li><strong>Application Dependencies</strong>: Regular dependency updates</li> <li><strong>Third-Party Services</strong>: Monitor and update integrations</li> <li><strong>Emergency Patches</strong>: Rapid deployment for critical vulnerabilities</li> </ul><hr /> <h2 id="data-management--backup"> <a href="#data-management--backup" class="anchor-heading" aria-labelledby="data-management--backup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Management &amp; Backup </h2> <h3 id="database-administration"> <a href="#database-administration" class="anchor-heading" aria-labelledby="database-administration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Administration </h3> <h4 id="database-maintenance"> <a href="#database-maintenance" class="anchor-heading" aria-labelledby="database-maintenance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Maintenance </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Regular maintenance tasks</span>
<span class="k">VACUUM</span> <span class="k">ANALYZE</span><span class="p">;</span>
<span class="k">REINDEX</span> <span class="k">DATABASE</span> <span class="n">advisoros_production</span><span class="p">;</span>

<span class="c1">-- Update statistics</span>
<span class="k">ANALYZE</span><span class="p">;</span>

<span class="c1">-- Check for corruption</span>
<span class="k">SELECT</span> <span class="n">pg_relation_size</span><span class="p">(</span><span class="s1">'table_name'</span><span class="p">);</span>
</code></pre></div></div> <h4 id="performance-optimization"> <a href="#performance-optimization" class="anchor-heading" aria-labelledby="performance-optimization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Optimization </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Index optimization</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">CONCURRENTLY</span> <span class="n">idx_clients_organization_id</span> <span class="k">ON</span> <span class="n">clients</span><span class="p">(</span><span class="n">organization_id</span><span class="p">);</span>
<span class="k">CREATE</span> <span class="k">INDEX</span> <span class="n">CONCURRENTLY</span> <span class="n">idx_documents_client_id_created_at</span> <span class="k">ON</span> <span class="n">documents</span><span class="p">(</span><span class="n">client_id</span><span class="p">,</span> <span class="n">created_at</span><span class="p">);</span>

<span class="c1">-- Query optimization</span>
<span class="k">EXPLAIN</span> <span class="k">ANALYZE</span> <span class="k">SELECT</span> <span class="o">*</span> <span class="k">FROM</span> <span class="n">clients</span> <span class="k">WHERE</span> <span class="n">organization_id</span> <span class="o">=</span> <span class="err">$</span><span class="mi">1</span><span class="p">;</span>
</code></pre></div></div> <h4 id="database-monitoring"> <a href="#database-monitoring" class="anchor-heading" aria-labelledby="database-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Monitoring </h4> <ul> <li><strong>Connection Monitoring</strong>: Active connections, connection pooling</li> <li><strong>Query Performance</strong>: Slow query identification and optimization</li> <li><strong>Lock Monitoring</strong>: Deadlock detection and resolution</li> <li><strong>Storage Monitoring</strong>: Disk usage, growth trends</li> </ul> <h3 id="backup-strategy"> <a href="#backup-strategy" class="anchor-heading" aria-labelledby="backup-strategy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Backup Strategy </h3> <h4 id="automated-backup-configuration"> <a href="#automated-backup-configuration" class="anchor-heading" aria-labelledby="automated-backup-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Automated Backup Configuration </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># Daily backup script</span>
<span class="nv">BACKUP_DIR</span><span class="o">=</span><span class="s2">"/backup/advisoros"</span>
<span class="nv">DATE</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +%Y%m%d_%H%M%S<span class="si">)</span>

<span class="c"># Database backup</span>
pg_dump <span class="nt">-h</span> localhost <span class="nt">-U</span> advisoros_user advisoros_production | <span class="nb">gzip</span> <span class="o">&gt;</span> <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/db_backup_</span><span class="nv">$DATE</span><span class="s2">.sql.gz"</span>

<span class="c"># File backup</span>
<span class="nb">tar</span> <span class="nt">-czf</span> <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/files_backup_</span><span class="nv">$DATE</span><span class="s2">.tar.gz"</span> /var/advisoros/uploads

<span class="c"># Backup to cloud storage</span>
aws s3 <span class="nb">cp</span> <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">/"</span> s3://advisoros-backups/ <span class="nt">--recursive</span>

<span class="c"># Cleanup old backups (keep 30 days)</span>
find <span class="s2">"</span><span class="nv">$BACKUP_DIR</span><span class="s2">"</span> <span class="nt">-type</span> f <span class="nt">-mtime</span> +30 <span class="nt">-delete</span>
</code></pre></div></div> <h4 id="backup-types-and-frequency"> <a href="#backup-types-and-frequency" class="anchor-heading" aria-labelledby="backup-types-and-frequency"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Backup Types and Frequency </h4> <ul> <li><strong>Full Backups</strong>: Weekly complete system backup</li> <li><strong>Incremental Backups</strong>: Daily incremental changes</li> <li><strong>Transaction Log Backups</strong>: Continuous transaction log backup</li> <li><strong>Point-in-Time Recovery</strong>: Restore to specific timestamp</li> </ul> <h4 id="backup-testing-and-validation"> <a href="#backup-testing-and-validation" class="anchor-heading" aria-labelledby="backup-testing-and-validation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Backup Testing and Validation </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Backup validation script</span>
<span class="c">#!/bin/bash</span>
<span class="nv">TEST_DB</span><span class="o">=</span><span class="s2">"advisoros_test_restore"</span>

<span class="c"># Create test database</span>
createdb <span class="nv">$TEST_DB</span>

<span class="c"># Restore from backup</span>
<span class="nb">gunzip</span> <span class="nt">-c</span> latest_backup.sql.gz | psql <span class="nv">$TEST_DB</span>

<span class="c"># Validate data integrity</span>
psql <span class="nv">$TEST_DB</span> <span class="nt">-c</span> <span class="s2">"SELECT COUNT(*) FROM clients;"</span>
psql <span class="nv">$TEST_DB</span> <span class="nt">-c</span> <span class="s2">"SELECT COUNT(*) FROM documents;"</span>

<span class="c"># Cleanup</span>
dropdb <span class="nv">$TEST_DB</span>
</code></pre></div></div> <h3 id="data-retention-policies"> <a href="#data-retention-policies" class="anchor-heading" aria-labelledby="data-retention-policies"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Retention Policies </h3> <h4 id="retention-configuration"> <a href="#retention-configuration" class="anchor-heading" aria-labelledby="retention-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Retention Configuration </h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"retentionPolicies"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"auditLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"retentionPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7_years"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"archiveAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1_year"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"deleteAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7_years"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"documents"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"retentionPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"permanent"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"archiveAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"5_years"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"userActivity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"retentionPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3_years"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"archiveAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1_year"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"systemLogs"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"retentionPeriod"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1_year"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"archiveAfter"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3_months"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="data-archival-process"> <a href="#data-archival-process" class="anchor-heading" aria-labelledby="data-archival-process"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Archival Process </h4> <ul> <li><strong>Automated Archival</strong>: Move old data to archive storage</li> <li><strong>Compliance Archival</strong>: Meet regulatory retention requirements</li> <li><strong>Data Compression</strong>: Reduce storage costs for archived data</li> <li><strong>Access Procedures</strong>: Process for accessing archived data</li> </ul><hr /> <h2 id="performance-monitoring"> <a href="#performance-monitoring" class="anchor-heading" aria-labelledby="performance-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Monitoring </h2> <h3 id="system-monitoring"> <a href="#system-monitoring" class="anchor-heading" aria-labelledby="system-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System Monitoring </h3> <h4 id="infrastructure-monitoring"> <a href="#infrastructure-monitoring" class="anchor-heading" aria-labelledby="infrastructure-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Infrastructure Monitoring </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Install monitoring tools</span>
<span class="nb">sudo </span>apt <span class="nb">install </span>htop iotop nethogs
<span class="nb">sudo </span>apt <span class="nb">install </span>prometheus node-exporter grafana

<span class="c"># System resource monitoring</span>
htop
iotop <span class="nt">-o</span>
nethogs
<span class="nb">df</span> <span class="nt">-h</span>
free <span class="nt">-h</span>
</code></pre></div></div> <h4 id="application-performance-monitoring-apm"> <a href="#application-performance-monitoring-apm" class="anchor-heading" aria-labelledby="application-performance-monitoring-apm"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Performance Monitoring (APM) </h4> <ul> <li><strong>New Relic Integration</strong>: Application performance insights</li> <li><strong>Sentry Error Tracking</strong>: Error monitoring and alerting</li> <li><strong>Custom Metrics</strong>: Business-specific performance indicators</li> <li><strong>Log Analysis</strong>: Centralized logging with ELK stack</li> </ul> <h4 id="database-performance-monitoring"> <a href="#database-performance-monitoring" class="anchor-heading" aria-labelledby="database-performance-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Performance Monitoring </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Monitor database performance</span>
<span class="k">SELECT</span>
    <span class="n">schemaname</span><span class="p">,</span>
    <span class="n">tablename</span><span class="p">,</span>
    <span class="n">seq_scan</span><span class="p">,</span>
    <span class="n">seq_tup_read</span><span class="p">,</span>
    <span class="n">idx_scan</span><span class="p">,</span>
    <span class="n">idx_tup_fetch</span>
<span class="k">FROM</span> <span class="n">pg_stat_user_tables</span><span class="p">;</span>

<span class="c1">-- Check slow queries</span>
<span class="k">SELECT</span>
    <span class="n">query</span><span class="p">,</span>
    <span class="n">mean_time</span><span class="p">,</span>
    <span class="n">calls</span><span class="p">,</span>
    <span class="n">total_time</span>
<span class="k">FROM</span> <span class="n">pg_stat_statements</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">total_time</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">10</span><span class="p">;</span>
</code></pre></div></div> <h3 id="alert-configuration"> <a href="#alert-configuration" class="anchor-heading" aria-labelledby="alert-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Alert Configuration </h3> <h4 id="system-alerts"> <a href="#system-alerts" class="anchor-heading" aria-labelledby="system-alerts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System Alerts </h4> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Prometheus alert rules</span>
<span class="na">groups</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">advisoros_alerts</span>
    <span class="na">rules</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">alert</span><span class="pi">:</span> <span class="s">HighCPUUsage</span>
        <span class="na">expr</span><span class="pi">:</span> <span class="s">node_cpu_seconds_total &gt; </span><span class="m">80</span>
        <span class="na">for</span><span class="pi">:</span> <span class="s">5m</span>
        <span class="na">labels</span><span class="pi">:</span>
          <span class="na">severity</span><span class="pi">:</span> <span class="s">warning</span>
        <span class="na">annotations</span><span class="pi">:</span>
          <span class="na">summary</span><span class="pi">:</span> <span class="s">High CPU usage detected</span>

      <span class="pi">-</span> <span class="na">alert</span><span class="pi">:</span> <span class="s">DiskSpaceLow</span>
        <span class="na">expr</span><span class="pi">:</span> <span class="s">node_filesystem_avail_bytes / node_filesystem_size_bytes * 100 &lt; </span><span class="m">10</span>
        <span class="na">for</span><span class="pi">:</span> <span class="s">5m</span>
        <span class="na">labels</span><span class="pi">:</span>
          <span class="na">severity</span><span class="pi">:</span> <span class="s">critical</span>
        <span class="na">annotations</span><span class="pi">:</span>
          <span class="na">summary</span><span class="pi">:</span> <span class="s">Disk space low</span>
</code></pre></div></div> <h4 id="application-alerts"> <a href="#application-alerts" class="anchor-heading" aria-labelledby="application-alerts"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Alerts </h4> <ul> <li><strong>Error Rate Alerts</strong>: High error rate detection</li> <li><strong>Response Time Alerts</strong>: Slow response time monitoring</li> <li><strong>Service Availability</strong>: Uptime monitoring and alerting</li> <li><strong>Business Metric Alerts</strong>: Custom business logic alerts</li> </ul> <h3 id="performance-optimization-1"> <a href="#performance-optimization-1" class="anchor-heading" aria-labelledby="performance-optimization-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Optimization </h3> <h4 id="database-optimization"> <a href="#database-optimization" class="anchor-heading" aria-labelledby="database-optimization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Optimization </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Connection pooling configuration</span>
<span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">max_connections</span> <span class="o">=</span> <span class="mi">200</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">shared_buffers</span> <span class="o">=</span> <span class="s1">'2GB'</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">effective_cache_size</span> <span class="o">=</span> <span class="s1">'6GB'</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">work_mem</span> <span class="o">=</span> <span class="s1">'64MB'</span><span class="p">;</span>
<span class="k">ALTER</span> <span class="k">SYSTEM</span> <span class="k">SET</span> <span class="n">maintenance_work_mem</span> <span class="o">=</span> <span class="s1">'512MB'</span><span class="p">;</span>
</code></pre></div></div> <h4 id="application-optimization"> <a href="#application-optimization" class="anchor-heading" aria-labelledby="application-optimization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Optimization </h4> <ul> <li><strong>Caching Strategy</strong>: Redis-based caching implementation</li> <li><strong>Query Optimization</strong>: Database query performance tuning</li> <li><strong>Asset Optimization</strong>: Static asset compression and CDN</li> <li><strong>Code Optimization</strong>: Application code performance improvements</li> </ul> <h4 id="scaling-configuration"> <a href="#scaling-configuration" class="anchor-heading" aria-labelledby="scaling-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scaling Configuration </h4> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Load balancer configuration</span>
<span class="s">upstream advisoros_backend {</span>
    <span class="s">server 127.0.0.1:3000 weight=1;</span>
    <span class="s">server 127.0.0.1:3001 weight=1;</span>
    <span class="s">server 127.0.0.1:3002 weight=1;</span>
<span class="err">}</span>

<span class="s">server {</span>
    <span class="s">listen 80;</span>
    <span class="s">location / {</span>
        <span class="s">proxy_pass http://advisoros_backend;</span>
        <span class="s">proxy_set_header Host $host;</span>
        <span class="s">proxy_set_header X-Real-IP $remote_addr;</span>
    <span class="s">}</span>
<span class="err">}</span>
</code></pre></div></div><hr /> <h2 id="integration-management"> <a href="#integration-management" class="anchor-heading" aria-labelledby="integration-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integration Management </h2> <h3 id="quickbooks-integration-administration"> <a href="#quickbooks-integration-administration" class="anchor-heading" aria-labelledby="quickbooks-integration-administration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> QuickBooks Integration Administration </h3> <h4 id="oauth-application-management"> <a href="#oauth-application-management" class="anchor-heading" aria-labelledby="oauth-application-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> OAuth Application Management </h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"quickbooksApp"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"clientId"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-qb-client-id"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"clientSecret"</span><span class="p">:</span><span class="w"> </span><span class="s2">"your-qb-client-secret"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"redirectUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-domain.com/auth/quickbooks/callback"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"production"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiVersion"</span><span class="p">:</span><span class="w"> </span><span class="s2">"v3"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="connection-monitoring"> <a href="#connection-monitoring" class="anchor-heading" aria-labelledby="connection-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Connection Monitoring </h4> <ul> <li><strong>Token Expiration Tracking</strong>: Monitor OAuth token status</li> <li><strong>Sync Status Monitoring</strong>: Track synchronization health</li> <li><strong>Error Rate Monitoring</strong>: QuickBooks API error tracking</li> <li><strong>Data Quality Checks</strong>: Validate synchronized data integrity</li> </ul> <h4 id="bulk-organization-setup"> <a href="#bulk-organization-setup" class="anchor-heading" aria-labelledby="bulk-organization-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Bulk Organization Setup </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Bulk QuickBooks setup for multiple organizations</span>
npm run setup-qb-bulk <span class="nt">--</span> <span class="nt">--file</span> qb_configs.csv
</code></pre></div></div> <h3 id="stripe-integration-administration"> <a href="#stripe-integration-administration" class="anchor-heading" aria-labelledby="stripe-integration-administration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Stripe Integration Administration </h3> <h4 id="webhook-configuration"> <a href="#webhook-configuration" class="anchor-heading" aria-labelledby="webhook-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Webhook Configuration </h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"stripeWebhooks"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"endpoints"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="s2">"https://your-domain.com/webhooks/stripe"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"events"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
          </span><span class="s2">"invoice.payment_succeeded"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"invoice.payment_failed"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customer.subscription.updated"</span><span class="p">,</span><span class="w">
          </span><span class="s2">"customer.subscription.deleted"</span><span class="w">
        </span><span class="p">]</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="payment-processing-monitoring"> <a href="#payment-processing-monitoring" class="anchor-heading" aria-labelledby="payment-processing-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Payment Processing Monitoring </h4> <ul> <li><strong>Transaction Monitoring</strong>: Payment success/failure rates</li> <li><strong>Subscription Health</strong>: Active subscriptions and churn</li> <li><strong>Revenue Tracking</strong>: Automated revenue recognition</li> <li><strong>Dispute Management</strong>: Chargeback and dispute handling</li> </ul> <h3 id="azure-services-integration"> <a href="#azure-services-integration" class="anchor-heading" aria-labelledby="azure-services-integration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Azure Services Integration </h3> <h4 id="storage-account-management"> <a href="#storage-account-management" class="anchor-heading" aria-labelledby="storage-account-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Storage Account Management </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Azure CLI configuration</span>
az login
az storage account create <span class="se">\</span>
    <span class="nt">--name</span> advisorosstorage <span class="se">\</span>
    <span class="nt">--resource-group</span> advisoros-rg <span class="se">\</span>
    <span class="nt">--location</span> eastus <span class="se">\</span>
    <span class="nt">--sku</span> Standard_LRS
</code></pre></div></div> <h4 id="service-monitoring"> <a href="#service-monitoring" class="anchor-heading" aria-labelledby="service-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Service Monitoring </h4> <ul> <li><strong>Storage Usage</strong>: Monitor storage consumption and costs</li> <li><strong>API Performance</strong>: Azure service API response times</li> <li><strong>Error Tracking</strong>: Service integration error monitoring</li> <li><strong>Cost Management</strong>: Track and optimize Azure service costs</li> </ul> <h3 id="third-party-api-management"> <a href="#third-party-api-management" class="anchor-heading" aria-labelledby="third-party-api-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Third-Party API Management </h3> <h4 id="api-rate-limiting"> <a href="#api-rate-limiting" class="anchor-heading" aria-labelledby="api-rate-limiting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> API Rate Limiting </h4> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// API rate limiting configuration</span>
<span class="kd">const</span> <span class="nx">rateLimiter</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">quickbooks</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">requestsPerMinute</span><span class="p">:</span> <span class="mi">500</span><span class="p">,</span>
    <span class="na">burstLimit</span><span class="p">:</span> <span class="mi">100</span>
  <span class="p">},</span>
  <span class="na">stripe</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">requestsPerSecond</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="na">burstLimit</span><span class="p">:</span> <span class="mi">50</span>
  <span class="p">},</span>
  <span class="na">openai</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">requestsPerMinute</span><span class="p">:</span> <span class="mi">3000</span><span class="p">,</span>
    <span class="na">tokensPerMinute</span><span class="p">:</span> <span class="mi">150000</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <h4 id="health-check-monitoring"> <a href="#health-check-monitoring" class="anchor-heading" aria-labelledby="health-check-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Health Check Monitoring </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># API health check script</span>
<span class="c">#!/bin/bash</span>
curl <span class="nt">-f</span> <span class="nt">-s</span> https://sandbox-quickbooks.api.intuit.com/v3/companyinfo <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"QuickBooks API Down"</span>
curl <span class="nt">-f</span> <span class="nt">-s</span> https://api.stripe.com/v1/charges?limit<span class="o">=</span>1 <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"Stripe API Down"</span>
curl <span class="nt">-f</span> <span class="nt">-s</span> https://api.openai.com/v1/models <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"OpenAI API Down"</span>
</code></pre></div></div><hr /> <h2 id="compliance--audit"> <a href="#compliance--audit" class="anchor-heading" aria-labelledby="compliance--audit"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compliance &amp; Audit </h2> <h3 id="regulatory-compliance"> <a href="#regulatory-compliance" class="anchor-heading" aria-labelledby="regulatory-compliance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Regulatory Compliance </h3> <h4 id="soc-2-type-ii-compliance"> <a href="#soc-2-type-ii-compliance" class="anchor-heading" aria-labelledby="soc-2-type-ii-compliance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> SOC 2 Type II Compliance </h4> <ul> <li><strong>Security Controls</strong>: Implementation of security control framework</li> <li><strong>Availability Controls</strong>: System uptime and disaster recovery</li> <li><strong>Processing Integrity</strong>: Data processing accuracy and completeness</li> <li><strong>Confidentiality Controls</strong>: Data protection and access controls</li> <li><strong>Privacy Controls</strong>: Personal information protection</li> </ul> <h4 id="gdpr-compliance-management"> <a href="#gdpr-compliance-management" class="anchor-heading" aria-labelledby="gdpr-compliance-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> GDPR Compliance Management </h4> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"gdprSettings"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"dataProcessingBasis"</span><span class="p">:</span><span class="w"> </span><span class="s2">"legitimate_interest"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"retentionPeriods"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"personalData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6_years"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"marketingData"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2_years"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"rightsManagement"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"dataPortability"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rightToErasure"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"rightToRectification"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> <h4 id="ccpa-compliance"> <a href="#ccpa-compliance" class="anchor-heading" aria-labelledby="ccpa-compliance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CCPA Compliance </h4> <ul> <li><strong>Data Inventory</strong>: Catalog of personal information collected</li> <li><strong>Privacy Rights</strong>: Implementation of consumer rights</li> <li><strong>Data Sale Tracking</strong>: Monitor and control data sharing</li> <li><strong>Privacy Policy Management</strong>: Automated policy updates</li> </ul> <h3 id="audit-management"> <a href="#audit-management" class="anchor-heading" aria-labelledby="audit-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Audit Management </h3> <h4 id="audit-log-configuration"> <a href="#audit-log-configuration" class="anchor-heading" aria-labelledby="audit-log-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Audit Log Configuration </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Audit table structure</span>
<span class="k">CREATE</span> <span class="k">TABLE</span> <span class="n">audit_logs</span> <span class="p">(</span>
    <span class="n">id</span> <span class="nb">SERIAL</span> <span class="k">PRIMARY</span> <span class="k">KEY</span><span class="p">,</span>
    <span class="n">user_id</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">organization_id</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">action</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">100</span><span class="p">),</span>
    <span class="n">resource_type</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">resource_id</span> <span class="nb">VARCHAR</span><span class="p">(</span><span class="mi">50</span><span class="p">),</span>
    <span class="n">old_values</span> <span class="n">JSONB</span><span class="p">,</span>
    <span class="n">new_values</span> <span class="n">JSONB</span><span class="p">,</span>
    <span class="n">ip_address</span> <span class="n">INET</span><span class="p">,</span>
    <span class="n">user_agent</span> <span class="nb">TEXT</span><span class="p">,</span>
    <span class="nb">timestamp</span> <span class="nb">TIMESTAMP</span> <span class="k">DEFAULT</span> <span class="n">NOW</span><span class="p">()</span>
<span class="p">);</span>

<span class="c1">-- Create audit triggers</span>
<span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span> <span class="k">FUNCTION</span> <span class="n">audit_trigger_func</span><span class="p">()</span>
<span class="k">RETURNS</span> <span class="k">TRIGGER</span> <span class="k">AS</span> <span class="err">$$</span>
<span class="k">BEGIN</span>
    <span class="k">INSERT</span> <span class="k">INTO</span> <span class="n">audit_logs</span> <span class="p">(</span>
        <span class="n">user_id</span><span class="p">,</span> <span class="n">organization_id</span><span class="p">,</span> <span class="n">action</span><span class="p">,</span> <span class="n">resource_type</span><span class="p">,</span> <span class="n">resource_id</span><span class="p">,</span>
        <span class="n">old_values</span><span class="p">,</span> <span class="n">new_values</span><span class="p">,</span> <span class="n">ip_address</span><span class="p">,</span> <span class="nb">timestamp</span>
    <span class="p">)</span> <span class="k">VALUES</span> <span class="p">(</span>
        <span class="k">NEW</span><span class="p">.</span><span class="n">updated_by</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">organization_id</span><span class="p">,</span> <span class="n">TG_OP</span><span class="p">,</span> <span class="n">TG_TABLE_NAME</span><span class="p">,</span> <span class="k">NEW</span><span class="p">.</span><span class="n">id</span><span class="p">,</span>
        <span class="n">to_jsonb</span><span class="p">(</span><span class="k">OLD</span><span class="p">),</span> <span class="n">to_jsonb</span><span class="p">(</span><span class="k">NEW</span><span class="p">),</span> <span class="n">inet_client_addr</span><span class="p">(),</span> <span class="n">NOW</span><span class="p">()</span>
    <span class="p">);</span>
    <span class="k">RETURN</span> <span class="k">NEW</span><span class="p">;</span>
<span class="k">END</span><span class="p">;</span>
<span class="err">$$</span> <span class="k">LANGUAGE</span> <span class="n">plpgsql</span><span class="p">;</span>
</code></pre></div></div> <h4 id="compliance-reporting"> <a href="#compliance-reporting" class="anchor-heading" aria-labelledby="compliance-reporting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Compliance Reporting </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Generate compliance reports</span>
npm run generate-compliance-report <span class="nt">--</span> <span class="nt">--type</span> soc2 <span class="nt">--period</span> 2024-Q1
npm run generate-compliance-report <span class="nt">--</span> <span class="nt">--type</span> gdpr <span class="nt">--organization</span> orgId
npm run generate-compliance-report <span class="nt">--</span> <span class="nt">--type</span> audit <span class="nt">--from</span> 2024-01-01 <span class="nt">--to</span> 2024-03-31
</code></pre></div></div> <h4 id="access-certification"> <a href="#access-certification" class="anchor-heading" aria-labelledby="access-certification"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Access Certification </h4> <ul> <li><strong>Quarterly Access Reviews</strong>: Automated access certification workflow</li> <li><strong>Role-Based Reviews</strong>: Review user permissions by role</li> <li><strong>Client Access Reviews</strong>: Verify client data access permissions</li> <li><strong>Exception Reporting</strong>: Identify and track access exceptions</li> </ul> <h3 id="data-privacy-management"> <a href="#data-privacy-management" class="anchor-heading" aria-labelledby="data-privacy-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Data Privacy Management </h3> <h4 id="personal-data-handling"> <a href="#personal-data-handling" class="anchor-heading" aria-labelledby="personal-data-handling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Personal Data Handling </h4> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Data privacy service</span>
<span class="kd">class</span> <span class="nx">DataPrivacyService</span> <span class="p">{</span>
  <span class="k">async</span> <span class="nx">handleDataSubjectRequest</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">userId</span><span class="p">,</span> <span class="nx">organizationId</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">switch</span><span class="p">(</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">access</span><span class="dl">'</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">exportUserData</span><span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">organizationId</span><span class="p">);</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">deletion</span><span class="dl">'</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">deleteUserData</span><span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">organizationId</span><span class="p">);</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">rectification</span><span class="dl">'</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">updateUserData</span><span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">organizationId</span><span class="p">);</span>
      <span class="k">case</span> <span class="dl">'</span><span class="s1">portability</span><span class="dl">'</span><span class="p">:</span>
        <span class="k">return</span> <span class="k">await</span> <span class="k">this</span><span class="p">.</span><span class="nx">exportPortableData</span><span class="p">(</span><span class="nx">userId</span><span class="p">,</span> <span class="nx">organizationId</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="consent-management"> <a href="#consent-management" class="anchor-heading" aria-labelledby="consent-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Consent Management </h4> <ul> <li><strong>Consent Tracking</strong>: Record and track user consent</li> <li><strong>Consent Withdrawal</strong>: Handle consent withdrawal requests</li> <li><strong>Purpose Limitation</strong>: Ensure data usage aligns with consent</li> <li><strong>Consent Renewal</strong>: Automated consent renewal workflows</li> </ul><hr /> <h2 id="scaling--optimization"> <a href="#scaling--optimization" class="anchor-heading" aria-labelledby="scaling--optimization"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scaling &amp; Optimization </h2> <h3 id="horizontal-scaling"> <a href="#horizontal-scaling" class="anchor-heading" aria-labelledby="horizontal-scaling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Horizontal Scaling </h3> <h4 id="load-balancer-configuration"> <a href="#load-balancer-configuration" class="anchor-heading" aria-labelledby="load-balancer-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Load Balancer Configuration </h4> <div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Nginx load balancer setup</span>
<span class="k">upstream</span> <span class="s">advisoros_app</span> <span class="p">{</span>
    <span class="kn">least_conn</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">app1.internal</span><span class="p">:</span><span class="mi">3000</span> <span class="s">max_fails=3</span> <span class="s">fail_timeout=30s</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">app2.internal</span><span class="p">:</span><span class="mi">3000</span> <span class="s">max_fails=3</span> <span class="s">fail_timeout=30s</span><span class="p">;</span>
    <span class="kn">server</span> <span class="nf">app3.internal</span><span class="p">:</span><span class="mi">3000</span> <span class="s">max_fails=3</span> <span class="s">fail_timeout=30s</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">server</span> <span class="p">{</span>
    <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
    <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
        <span class="kn">proxy_pass</span> <span class="s">http://advisoros_app</span><span class="p">;</span>
        <span class="kn">proxy_http_version</span> <span class="mi">1</span><span class="s">.1</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Connection</span> <span class="s">""</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
        <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
        <span class="kn">proxy_connect_timeout</span> <span class="s">30s</span><span class="p">;</span>
        <span class="kn">proxy_send_timeout</span> <span class="s">30s</span><span class="p">;</span>
        <span class="kn">proxy_read_timeout</span> <span class="s">30s</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="database-scaling"> <a href="#database-scaling" class="anchor-heading" aria-labelledby="database-scaling"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Scaling </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Read replica configuration</span>
<span class="k">CREATE</span> <span class="n">PUBLICATION</span> <span class="n">advisoros_pub</span> <span class="k">FOR</span> <span class="k">ALL</span> <span class="n">TABLES</span><span class="p">;</span>

<span class="c1">-- On read replica</span>
<span class="k">CREATE</span> <span class="n">SUBSCRIPTION</span> <span class="n">advisoros_sub</span>
<span class="k">CONNECTION</span> <span class="s1">'host=primary.db.internal user=replicator dbname=advisoros_production'</span>
<span class="n">PUBLICATION</span> <span class="n">advisoros_pub</span><span class="p">;</span>
</code></pre></div></div> <h4 id="container-orchestration"> <a href="#container-orchestration" class="anchor-heading" aria-labelledby="container-orchestration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Container Orchestration </h4> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Docker Compose scaling configuration</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">app</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">advisoros:latest</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
      <span class="na">update_config</span><span class="pi">:</span>
        <span class="na">parallelism</span><span class="pi">:</span> <span class="m">1</span>
        <span class="na">delay</span><span class="pi">:</span> <span class="s">10s</span>
      <span class="na">restart_policy</span><span class="pi">:</span>
        <span class="na">condition</span><span class="pi">:</span> <span class="s">on-failure</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">NODE_ENV=production</span>
      <span class="pi">-</span> <span class="s">DATABASE_URL=${DATABASE_URL}</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">advisoros_network</span>

  <span class="na">nginx</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx:alpine</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">80:80"</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">443:443"</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./nginx.conf:/etc/nginx/nginx.conf</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">app</span>
    <span class="na">networks</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">advisoros_network</span>
</code></pre></div></div> <h3 id="performance-optimization-2"> <a href="#performance-optimization-2" class="anchor-heading" aria-labelledby="performance-optimization-2"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Optimization </h3> <h4 id="caching-strategy"> <a href="#caching-strategy" class="anchor-heading" aria-labelledby="caching-strategy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Caching Strategy </h4> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Redis caching configuration</span>
<span class="kd">const</span> <span class="nx">cacheConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">client</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">host</span><span class="p">:</span> <span class="dl">'</span><span class="s1">redis.internal</span><span class="dl">'</span><span class="p">,</span>
    <span class="na">port</span><span class="p">:</span> <span class="mi">6379</span><span class="p">,</span>
    <span class="na">db</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="na">strategies</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">userSessions</span><span class="p">:</span> <span class="p">{</span> <span class="na">ttl</span><span class="p">:</span> <span class="mi">3600</span> <span class="p">},</span>
    <span class="na">clientData</span><span class="p">:</span> <span class="p">{</span> <span class="na">ttl</span><span class="p">:</span> <span class="mi">1800</span> <span class="p">},</span>
    <span class="na">reports</span><span class="p">:</span> <span class="p">{</span> <span class="na">ttl</span><span class="p">:</span> <span class="mi">7200</span> <span class="p">},</span>
    <span class="na">quickbooksData</span><span class="p">:</span> <span class="p">{</span> <span class="na">ttl</span><span class="p">:</span> <span class="mi">900</span> <span class="p">}</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div> <h4 id="cdn-configuration"> <a href="#cdn-configuration" class="anchor-heading" aria-labelledby="cdn-configuration"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> CDN Configuration </h4> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// CloudFlare CDN setup</span>
<span class="kd">const</span> <span class="nx">cdnConfig</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">zone</span><span class="p">:</span> <span class="dl">'</span><span class="s1">advisoros.com</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">cachingRules</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">pattern</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*.js</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">ttl</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
      <span class="na">cacheLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">aggressive</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">pattern</span><span class="p">:</span> <span class="dl">'</span><span class="s1">*.css</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">ttl</span><span class="p">:</span> <span class="mi">86400</span><span class="p">,</span>
      <span class="na">cacheLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">aggressive</span><span class="dl">'</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="na">pattern</span><span class="p">:</span> <span class="dl">'</span><span class="s1">/api/*</span><span class="dl">'</span><span class="p">,</span>
      <span class="na">ttl</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
      <span class="na">cacheLevel</span><span class="p">:</span> <span class="dl">'</span><span class="s1">bypass</span><span class="dl">'</span>
    <span class="p">}</span>
  <span class="p">]</span>
<span class="p">};</span>
</code></pre></div></div> <h3 id="capacity-planning"> <a href="#capacity-planning" class="anchor-heading" aria-labelledby="capacity-planning"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Capacity Planning </h3> <h4 id="resource-monitoring"> <a href="#resource-monitoring" class="anchor-heading" aria-labelledby="resource-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Resource Monitoring </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Capacity monitoring script</span>
<span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">"=== System Resource Usage ==="</span>
<span class="nb">echo</span> <span class="s2">"CPU Usage:"</span>
top <span class="nt">-bn1</span> | <span class="nb">grep</span> <span class="s2">"Cpu(s)"</span> | <span class="nb">awk</span> <span class="s1">'{print $2 + $4"%"}'</span>

<span class="nb">echo</span> <span class="s2">"Memory Usage:"</span>
free | <span class="nb">grep </span>Mem | <span class="nb">awk</span> <span class="s1">'{printf("%.2f%%\n", $3/$2 * 100.0)}'</span>

<span class="nb">echo</span> <span class="s2">"Disk Usage:"</span>
<span class="nb">df</span> <span class="nt">-h</span> | <span class="nb">grep</span> <span class="nt">-vE</span> <span class="s1">'^Filesystem|tmpfs|cdrom'</span>

<span class="nb">echo</span> <span class="s2">"Network Connections:"</span>
netstat <span class="nt">-an</span> | <span class="nb">grep</span> :3000 | <span class="nb">wc</span> <span class="nt">-l</span>

<span class="nb">echo</span> <span class="s2">"Database Connections:"</span>
<span class="nb">sudo</span> <span class="nt">-u</span> postgres psql <span class="nt">-c</span> <span class="s2">"SELECT count(*) FROM pg_stat_activity;"</span>
</code></pre></div></div> <h4 id="growth-projections"> <a href="#growth-projections" class="anchor-heading" aria-labelledby="growth-projections"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Growth Projections </h4> <ul> <li><strong>User Growth</strong>: Projected user base expansion</li> <li><strong>Data Growth</strong>: Storage requirements projection</li> <li><strong>Transaction Growth</strong>: API usage and processing needs</li> <li><strong>Resource Planning</strong>: Infrastructure scaling timeline</li> </ul><hr /> <h2 id="maintenance--updates"> <a href="#maintenance--updates" class="anchor-heading" aria-labelledby="maintenance--updates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Maintenance &amp; Updates </h2> <h3 id="update-management"> <a href="#update-management" class="anchor-heading" aria-labelledby="update-management"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Update Management </h3> <h4 id="application-updates"> <a href="#application-updates" class="anchor-heading" aria-labelledby="application-updates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Updates </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Production update procedure</span>
<span class="c">#!/bin/bash</span>
<span class="nb">set</span> <span class="nt">-e</span>

<span class="nb">echo</span> <span class="s2">"Starting AdvisorOS update procedure..."</span>

<span class="c"># 1. Backup current system</span>
./scripts/backup.sh

<span class="c"># 2. Download and verify update</span>
wget https://releases.advisoros.com/v2.1.0/advisoros-v2.1.0.tar.gz
<span class="nb">sha256sum</span> <span class="nt">-c</span> advisoros-v2.1.0.tar.gz.sha256

<span class="c"># 3. Stop application</span>
systemctl stop advisoros

<span class="c"># 4. Extract update</span>
<span class="nb">tar</span> <span class="nt">-xzf</span> advisoros-v2.1.0.tar.gz

<span class="c"># 5. Run database migrations</span>
npm run db:migrate:production

<span class="c"># 6. Update dependencies</span>
npm <span class="nb">install</span> <span class="nt">--production</span>

<span class="c"># 7. Build application</span>
npm run build

<span class="c"># 8. Start application</span>
systemctl start advisoros

<span class="c"># 9. Verify deployment</span>
./scripts/health-check.sh

<span class="nb">echo</span> <span class="s2">"Update completed successfully!"</span>
</code></pre></div></div> <h4 id="security-updates"> <a href="#security-updates" class="anchor-heading" aria-labelledby="security-updates"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Security Updates </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Automated security updates</span>
<span class="c">#!/bin/bash</span>
<span class="c"># Update system packages</span>
<span class="nb">sudo </span>apt update <span class="o">&amp;&amp;</span> <span class="nb">sudo </span>apt upgrade <span class="nt">-y</span>

<span class="c"># Update Node.js dependencies</span>
npm audit fix

<span class="c"># Update Docker images</span>
docker images <span class="nt">--format</span> <span class="s2">"table {{.Repository}}:{{.Tag}}"</span> | <span class="nb">grep </span>advisoros | xargs <span class="nt">-I</span> <span class="o">{}</span> docker pull <span class="o">{}</span>

<span class="c"># Restart services</span>
systemctl restart advisoros
</code></pre></div></div> <h4 id="rollback-procedures"> <a href="#rollback-procedures" class="anchor-heading" aria-labelledby="rollback-procedures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Rollback Procedures </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Rollback script</span>
<span class="c">#!/bin/bash</span>
<span class="nv">BACKUP_VERSION</span><span class="o">=</span><span class="nv">$1</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$BACKUP_VERSION</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> &lt;backup_version&gt;"</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nb">echo</span> <span class="s2">"Rolling back to version </span><span class="nv">$BACKUP_VERSION</span><span class="s2">..."</span>

<span class="c"># Stop current application</span>
systemctl stop advisoros

<span class="c"># Restore from backup</span>
./scripts/restore.sh <span class="nv">$BACKUP_VERSION</span>

<span class="c"># Start application</span>
systemctl start advisoros

<span class="nb">echo</span> <span class="s2">"Rollback completed!"</span>
</code></pre></div></div> <h3 id="scheduled-maintenance"> <a href="#scheduled-maintenance" class="anchor-heading" aria-labelledby="scheduled-maintenance"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Scheduled Maintenance </h3> <h4 id="maintenance-windows"> <a href="#maintenance-windows" class="anchor-heading" aria-labelledby="maintenance-windows"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Maintenance Windows </h4><pre><code class="language-cron"># Crontab entries for scheduled maintenance
# Database maintenance (weekly, Sunday 2 AM)
0 2 * * 0 /usr/local/bin/advisoros-db-maintenance.sh

# Log rotation (daily, 1 AM)
0 1 * * * /usr/sbin/logrotate /etc/logrotate.d/advisoros

# Backup verification (daily, 3 AM)
0 3 * * * /usr/local/bin/verify-backups.sh

# Security scan (weekly, Saturday 11 PM)
0 23 * * 6 /usr/local/bin/security-scan.sh

# Performance report (monthly, first day at 6 AM)
0 6 1 * * /usr/local/bin/performance-report.sh
</code></pre><h4 id="maintenance-notifications"> <a href="#maintenance-notifications" class="anchor-heading" aria-labelledby="maintenance-notifications"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Maintenance Notifications </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Maintenance notification script</span>
<span class="c">#!/bin/bash</span>
<span class="nv">MAINTENANCE_START</span><span class="o">=</span><span class="s2">"2024-03-15 02:00:00"</span>
<span class="nv">MAINTENANCE_END</span><span class="o">=</span><span class="s2">"2024-03-15 04:00:00"</span>

<span class="c"># Send notification to all organization administrators</span>
npm run send-maintenance-notification <span class="nt">--</span> <span class="se">\</span>
    <span class="nt">--start</span> <span class="s2">"</span><span class="nv">$MAINTENANCE_START</span><span class="s2">"</span> <span class="se">\</span>
    <span class="nt">--end</span> <span class="s2">"</span><span class="nv">$MAINTENANCE_END</span><span class="s2">"</span> <span class="se">\</span>
    <span class="nt">--type</span> <span class="s2">"security_updates"</span> <span class="se">\</span>
    <span class="nt">--recipients</span> <span class="s2">"admins"</span>
</code></pre></div></div> <h3 id="health-monitoring"> <a href="#health-monitoring" class="anchor-heading" aria-labelledby="health-monitoring"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Health Monitoring </h3> <h4 id="service-health-checks"> <a href="#service-health-checks" class="anchor-heading" aria-labelledby="service-health-checks"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Service Health Checks </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Comprehensive health check</span>
<span class="c">#!/bin/bash</span>
<span class="nv">HEALTH_STATUS</span><span class="o">=</span><span class="s2">"OK"</span>

<span class="c"># Check application response</span>
<span class="k">if</span> <span class="o">!</span> curl <span class="nt">-f</span> <span class="nt">-s</span> http://localhost:3000/api/health <span class="o">&gt;</span> /dev/null<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"ERROR: Application not responding"</span>
    <span class="nv">HEALTH_STATUS</span><span class="o">=</span><span class="s2">"ERROR"</span>
<span class="k">fi</span>

<span class="c"># Check database connectivity</span>
<span class="k">if</span> <span class="o">!</span> pg_isready <span class="nt">-h</span> localhost <span class="nt">-p</span> 5432 <span class="o">&gt;</span> /dev/null<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"ERROR: Database not accessible"</span>
    <span class="nv">HEALTH_STATUS</span><span class="o">=</span><span class="s2">"ERROR"</span>
<span class="k">fi</span>

<span class="c"># Check Redis connectivity</span>
<span class="k">if</span> <span class="o">!</span> redis-cli ping <span class="o">&gt;</span> /dev/null<span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"ERROR: Redis not accessible"</span>
    <span class="nv">HEALTH_STATUS</span><span class="o">=</span><span class="s2">"ERROR"</span>
<span class="k">fi</span>

<span class="c"># Check disk space</span>
<span class="nv">DISK_USAGE</span><span class="o">=</span><span class="si">$(</span><span class="nb">df</span> / | <span class="nb">tail</span> <span class="nt">-1</span> | <span class="nb">awk</span> <span class="s1">'{print $5}'</span> | <span class="nb">sed</span> <span class="s1">'s/%//'</span><span class="si">)</span>
<span class="k">if</span> <span class="o">[</span> <span class="nv">$DISK_USAGE</span> <span class="nt">-gt</span> 90 <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"WARNING: Disk usage is </span><span class="k">${</span><span class="nv">DISK_USAGE</span><span class="k">}</span><span class="s2">%"</span>
    <span class="nv">HEALTH_STATUS</span><span class="o">=</span><span class="s2">"WARNING"</span>
<span class="k">fi

</span><span class="nb">echo</span> <span class="s2">"Overall health status: </span><span class="nv">$HEALTH_STATUS</span><span class="s2">"</span>
<span class="nb">exit</span> <span class="si">$(</span><span class="o">[[</span> <span class="s2">"</span><span class="nv">$HEALTH_STATUS</span><span class="s2">"</span> <span class="o">==</span> <span class="s2">"OK"</span> <span class="o">]]</span> <span class="o">&amp;&amp;</span> <span class="nb">echo </span>0 <span class="o">||</span> <span class="nb">echo </span>1<span class="si">)</span>
</code></pre></div></div><hr /> <h2 id="troubleshooting"> <a href="#troubleshooting" class="anchor-heading" aria-labelledby="troubleshooting"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Troubleshooting </h2> <h3 id="common-issues"> <a href="#common-issues" class="anchor-heading" aria-labelledby="common-issues"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Common Issues </h3> <h4 id="application-wont-start"> <a href="#application-wont-start" class="anchor-heading" aria-labelledby="application-wont-start"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Won’t Start </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Troubleshooting steps</span>
<span class="nb">echo</span> <span class="s2">"Checking application startup issues..."</span>

<span class="c"># 1. Check environment variables</span>
<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$DATABASE_URL</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"ERROR: DATABASE_URL not set"</span>
<span class="k">fi</span>

<span class="c"># 2. Check database connectivity</span>
pg_isready <span class="nt">-d</span> <span class="nv">$DATABASE_URL</span> <span class="o">||</span> <span class="nb">echo</span> <span class="s2">"ERROR: Cannot connect to database"</span>

<span class="c"># 3. Check port availability</span>
netstat <span class="nt">-tulpn</span> | <span class="nb">grep</span> :3000 <span class="o">&amp;&amp;</span> <span class="nb">echo</span> <span class="s2">"ERROR: Port 3000 already in use"</span>

<span class="c"># 4. Check application logs</span>
<span class="nb">tail</span> <span class="nt">-n</span> 50 /var/log/advisoros/application.log

<span class="c"># 5. Check system resources</span>
free <span class="nt">-h</span>
<span class="nb">df</span> <span class="nt">-h</span>
</code></pre></div></div> <h4 id="database-connection-issues"> <a href="#database-connection-issues" class="anchor-heading" aria-labelledby="database-connection-issues"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Connection Issues </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Database diagnostics</span>
<span class="k">SELECT</span>
    <span class="n">pid</span><span class="p">,</span>
    <span class="n">usename</span><span class="p">,</span>
    <span class="n">application_name</span><span class="p">,</span>
    <span class="n">client_addr</span><span class="p">,</span>
    <span class="k">state</span><span class="p">,</span>
    <span class="n">query_start</span>
<span class="k">FROM</span> <span class="n">pg_stat_activity</span>
<span class="k">WHERE</span> <span class="k">state</span> <span class="o">=</span> <span class="s1">'active'</span><span class="p">;</span>

<span class="c1">-- Check for blocking queries</span>
<span class="k">SELECT</span>
    <span class="n">blocked_locks</span><span class="p">.</span><span class="n">pid</span> <span class="k">AS</span> <span class="n">blocked_pid</span><span class="p">,</span>
    <span class="n">blocked_activity</span><span class="p">.</span><span class="n">usename</span> <span class="k">AS</span> <span class="n">blocked_user</span><span class="p">,</span>
    <span class="n">blocking_locks</span><span class="p">.</span><span class="n">pid</span> <span class="k">AS</span> <span class="n">blocking_pid</span><span class="p">,</span>
    <span class="n">blocking_activity</span><span class="p">.</span><span class="n">usename</span> <span class="k">AS</span> <span class="n">blocking_user</span><span class="p">,</span>
    <span class="n">blocked_activity</span><span class="p">.</span><span class="n">query</span> <span class="k">AS</span> <span class="n">blocked_statement</span><span class="p">,</span>
    <span class="n">blocking_activity</span><span class="p">.</span><span class="n">query</span> <span class="k">AS</span> <span class="n">current_statement_in_blocking_process</span>
<span class="k">FROM</span> <span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_locks</span> <span class="n">blocked_locks</span>
<span class="k">JOIN</span> <span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_stat_activity</span> <span class="n">blocked_activity</span> <span class="k">ON</span> <span class="n">blocked_activity</span><span class="p">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">blocked_locks</span><span class="p">.</span><span class="n">pid</span>
<span class="k">JOIN</span> <span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_locks</span> <span class="n">blocking_locks</span> <span class="k">ON</span> <span class="n">blocking_locks</span><span class="p">.</span><span class="n">locktype</span> <span class="o">=</span> <span class="n">blocked_locks</span><span class="p">.</span><span class="n">locktype</span>
<span class="k">JOIN</span> <span class="n">pg_catalog</span><span class="p">.</span><span class="n">pg_stat_activity</span> <span class="n">blocking_activity</span> <span class="k">ON</span> <span class="n">blocking_activity</span><span class="p">.</span><span class="n">pid</span> <span class="o">=</span> <span class="n">blocking_locks</span><span class="p">.</span><span class="n">pid</span>
<span class="k">WHERE</span> <span class="k">NOT</span> <span class="n">blocked_locks</span><span class="p">.</span><span class="k">granted</span><span class="p">;</span>
</code></pre></div></div> <h4 id="performance-issues"> <a href="#performance-issues" class="anchor-heading" aria-labelledby="performance-issues"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Issues </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Performance diagnostic script</span>
<span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">"=== Performance Diagnostics ==="</span>

<span class="nb">echo</span> <span class="s2">"1. System Load:"</span>
<span class="nb">uptime

echo</span> <span class="s2">"2. Memory Usage:"</span>
free <span class="nt">-h</span>

<span class="nb">echo</span> <span class="s2">"3. Top Processes:"</span>
ps aux <span class="nt">--sort</span><span class="o">=</span>-%cpu | <span class="nb">head</span> <span class="nt">-10</span>

<span class="nb">echo</span> <span class="s2">"4. I/O Wait:"</span>
iostat <span class="nt">-x</span> 1 3

<span class="nb">echo</span> <span class="s2">"5. Network Connections:"</span>
netstat <span class="nt">-an</span> | <span class="nb">grep</span> :3000 | <span class="nb">wc</span> <span class="nt">-l</span>

<span class="nb">echo</span> <span class="s2">"6. Database Performance:"</span>
<span class="nb">sudo</span> <span class="nt">-u</span> postgres psql advisoros_production <span class="nt">-c</span> <span class="s2">"
SELECT
    schemaname,
    tablename,
    seq_scan,
    seq_tup_read,
    n_tup_ins + n_tup_upd + n_tup_del as writes
FROM pg_stat_user_tables
ORDER BY seq_scan DESC
LIMIT 10;"</span>
</code></pre></div></div> <h3 id="diagnostic-tools"> <a href="#diagnostic-tools" class="anchor-heading" aria-labelledby="diagnostic-tools"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Diagnostic Tools </h3> <h4 id="log-analysis"> <a href="#log-analysis" class="anchor-heading" aria-labelledby="log-analysis"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Log Analysis </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Log analysis scripts</span>
<span class="c">#!/bin/bash</span>

<span class="c"># Error log analysis</span>
<span class="nb">echo</span> <span class="s2">"=== Recent Errors ==="</span>
<span class="nb">grep</span> <span class="nt">-i</span> error /var/log/advisoros/<span class="k">*</span>.log | <span class="nb">tail</span> <span class="nt">-20</span>

<span class="c"># Performance log analysis</span>
<span class="nb">echo</span> <span class="s2">"=== Slow Requests ==="</span>
<span class="nb">grep</span> <span class="s2">"slow request"</span> /var/log/advisoros/performance.log | <span class="nb">tail</span> <span class="nt">-10</span>

<span class="c"># Security log analysis</span>
<span class="nb">echo</span> <span class="s2">"=== Security Events ==="</span>
<span class="nb">grep</span> <span class="nt">-i</span> <span class="s2">"authentication</span><span class="se">\|</span><span class="s2">authorization</span><span class="se">\|</span><span class="s2">security"</span> /var/log/advisoros/security.log | <span class="nb">tail</span> <span class="nt">-10</span>

<span class="c"># API usage analysis</span>
<span class="nb">echo</span> <span class="s2">"=== API Usage ==="</span>
<span class="nb">awk</span> <span class="s1">'{print $7}'</span> /var/log/nginx/access.log | <span class="nb">sort</span> | <span class="nb">uniq</span> <span class="nt">-c</span> | <span class="nb">sort</span> <span class="nt">-nr</span> | <span class="nb">head</span> <span class="nt">-10</span>
</code></pre></div></div> <h4 id="system-diagnostics"> <a href="#system-diagnostics" class="anchor-heading" aria-labelledby="system-diagnostics"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> System Diagnostics </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Comprehensive system check</span>
<span class="c">#!/bin/bash</span>
<span class="nb">echo</span> <span class="s2">"=== System Diagnostics ==="</span>

<span class="nb">echo</span> <span class="s2">"1. System Information:"</span>
<span class="nb">uname</span> <span class="nt">-a</span>
lsb_release <span class="nt">-a</span>

<span class="nb">echo</span> <span class="s2">"2. Hardware Information:"</span>
lscpu | <span class="nb">grep</span> <span class="s2">"Model name"</span>
lsmem | <span class="nb">grep</span> <span class="s2">"Total online memory"</span>

<span class="nb">echo</span> <span class="s2">"3. Disk Information:"</span>
lsblk
<span class="nb">df</span> <span class="nt">-h</span>

<span class="nb">echo</span> <span class="s2">"4. Network Information:"</span>
ip addr show
ss <span class="nt">-tuln</span>

<span class="nb">echo</span> <span class="s2">"5. Service Status:"</span>
systemctl status advisoros
systemctl status postgresql
systemctl status redis-server
systemctl status nginx
</code></pre></div></div> <h3 id="performance-tuning"> <a href="#performance-tuning" class="anchor-heading" aria-labelledby="performance-tuning"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Performance Tuning </h3> <h4 id="database-optimization-1"> <a href="#database-optimization-1" class="anchor-heading" aria-labelledby="database-optimization-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Optimization </h4> <div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">-- Performance tuning queries</span>
<span class="c1">-- Find missing indexes</span>
<span class="k">SELECT</span>
    <span class="n">schemaname</span><span class="p">,</span>
    <span class="n">tablename</span><span class="p">,</span>
    <span class="n">seq_scan</span><span class="p">,</span>
    <span class="n">seq_tup_read</span><span class="p">,</span>
    <span class="n">seq_scan</span> <span class="o">/</span> <span class="n">seq_tup_read</span> <span class="k">as</span> <span class="n">ratio</span>
<span class="k">FROM</span> <span class="n">pg_stat_user_tables</span>
<span class="k">WHERE</span> <span class="n">seq_tup_read</span> <span class="o">&gt;</span> <span class="mi">0</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">ratio</span> <span class="k">DESC</span><span class="p">;</span>

<span class="c1">-- Analyze slow queries</span>
<span class="k">SELECT</span>
    <span class="n">query</span><span class="p">,</span>
    <span class="n">calls</span><span class="p">,</span>
    <span class="n">total_time</span><span class="p">,</span>
    <span class="n">mean_time</span><span class="p">,</span>
    <span class="k">rows</span>
<span class="k">FROM</span> <span class="n">pg_stat_statements</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">total_time</span> <span class="k">DESC</span>
<span class="k">LIMIT</span> <span class="mi">20</span><span class="p">;</span>

<span class="c1">-- Check table bloat</span>
<span class="k">SELECT</span>
    <span class="n">tablename</span><span class="p">,</span>
    <span class="n">pg_size_pretty</span><span class="p">(</span><span class="n">pg_total_relation_size</span><span class="p">(</span><span class="n">tablename</span><span class="p">::</span><span class="n">regclass</span><span class="p">))</span> <span class="k">as</span> <span class="k">size</span><span class="p">,</span>
    <span class="n">pg_size_pretty</span><span class="p">(</span><span class="n">pg_relation_size</span><span class="p">(</span><span class="n">tablename</span><span class="p">::</span><span class="n">regclass</span><span class="p">))</span> <span class="k">as</span> <span class="n">table_size</span>
<span class="k">FROM</span> <span class="n">pg_tables</span>
<span class="k">WHERE</span> <span class="n">schemaname</span> <span class="o">=</span> <span class="s1">'public'</span>
<span class="k">ORDER</span> <span class="k">BY</span> <span class="n">pg_total_relation_size</span><span class="p">(</span><span class="n">tablename</span><span class="p">::</span><span class="n">regclass</span><span class="p">)</span> <span class="k">DESC</span><span class="p">;</span>
</code></pre></div></div> <h4 id="application-optimization-1"> <a href="#application-optimization-1" class="anchor-heading" aria-labelledby="application-optimization-1"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Optimization </h4> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Performance monitoring middleware</span>
<span class="kd">const</span> <span class="nx">performanceMonitor</span> <span class="o">=</span> <span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">,</span> <span class="nx">next</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">start</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">();</span>

  <span class="nx">res</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="dl">'</span><span class="s1">finish</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="nx">duration</span> <span class="o">=</span> <span class="nb">Date</span><span class="p">.</span><span class="nx">now</span><span class="p">()</span> <span class="o">-</span> <span class="nx">start</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">duration</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">console</span><span class="p">.</span><span class="nx">warn</span><span class="p">(</span><span class="s2">`Slow request: </span><span class="p">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">method</span><span class="p">}</span><span class="s2"> </span><span class="p">${</span><span class="nx">req</span><span class="p">.</span><span class="nx">path</span><span class="p">}</span><span class="s2"> - </span><span class="p">${</span><span class="nx">duration</span><span class="p">}</span><span class="s2">ms`</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">});</span>

  <span class="nx">next</span><span class="p">();</span>
<span class="p">};</span>
</code></pre></div></div><hr /> <h2 id="disaster-recovery"> <a href="#disaster-recovery" class="anchor-heading" aria-labelledby="disaster-recovery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Disaster Recovery </h2> <h3 id="backup-and-recovery-strategy"> <a href="#backup-and-recovery-strategy" class="anchor-heading" aria-labelledby="backup-and-recovery-strategy"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Backup and Recovery Strategy </h3> <h4 id="recovery-time-objectives-rto"> <a href="#recovery-time-objectives-rto" class="anchor-heading" aria-labelledby="recovery-time-objectives-rto"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Recovery Time Objectives (RTO) </h4> <ul> <li><strong>Critical Systems</strong>: 4 hours maximum downtime</li> <li><strong>Standard Systems</strong>: 24 hours maximum downtime</li> <li><strong>Non-Critical Systems</strong>: 72 hours maximum downtime</li> </ul> <h4 id="recovery-point-objectives-rpo"> <a href="#recovery-point-objectives-rpo" class="anchor-heading" aria-labelledby="recovery-point-objectives-rpo"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Recovery Point Objectives (RPO) </h4> <ul> <li><strong>Financial Data</strong>: 15 minutes maximum data loss</li> <li><strong>Document Data</strong>: 1 hour maximum data loss</li> <li><strong>Configuration Data</strong>: 24 hours maximum data loss</li> </ul> <h3 id="disaster-recovery-procedures"> <a href="#disaster-recovery-procedures" class="anchor-heading" aria-labelledby="disaster-recovery-procedures"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Disaster Recovery Procedures </h3> <h4 id="complete-system-recovery"> <a href="#complete-system-recovery" class="anchor-heading" aria-labelledby="complete-system-recovery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Complete System Recovery </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># Disaster recovery script</span>
<span class="nb">set</span> <span class="nt">-e</span>

<span class="nv">BACKUP_DATE</span><span class="o">=</span><span class="nv">$1</span>
<span class="nv">RECOVERY_LOCATION</span><span class="o">=</span><span class="nv">$2</span>

<span class="k">if</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$BACKUP_DATE</span><span class="s2">"</span> <span class="o">]</span> <span class="o">||</span> <span class="o">[</span> <span class="nt">-z</span> <span class="s2">"</span><span class="nv">$RECOVERY_LOCATION</span><span class="s2">"</span> <span class="o">]</span><span class="p">;</span> <span class="k">then
    </span><span class="nb">echo</span> <span class="s2">"Usage: </span><span class="nv">$0</span><span class="s2"> &lt;backup_date&gt; &lt;recovery_location&gt;"</span>
    <span class="nb">exit </span>1
<span class="k">fi

</span><span class="nb">echo</span> <span class="s2">"Starting disaster recovery for backup date: </span><span class="nv">$BACKUP_DATE</span><span class="s2">"</span>

<span class="c"># 1. Prepare recovery environment</span>
./scripts/setup-recovery-environment.sh <span class="nv">$RECOVERY_LOCATION</span>

<span class="c"># 2. Restore database</span>
<span class="nb">echo</span> <span class="s2">"Restoring database..."</span>
aws s3 <span class="nb">cp </span>s3://advisoros-backups/db_backup_<span class="nv">$BACKUP_DATE</span>.sql.gz <span class="nb">.</span>
<span class="nb">gunzip </span>db_backup_<span class="nv">$BACKUP_DATE</span>.sql.gz
psql <span class="nt">-U</span> advisoros_user <span class="nt">-d</span> advisoros_production &lt; db_backup_<span class="nv">$BACKUP_DATE</span>.sql

<span class="c"># 3. Restore application files</span>
<span class="nb">echo</span> <span class="s2">"Restoring application files..."</span>
aws s3 <span class="nb">cp </span>s3://advisoros-backups/files_backup_<span class="nv">$BACKUP_DATE</span>.tar.gz <span class="nb">.</span>
<span class="nb">tar</span> <span class="nt">-xzf</span> files_backup_<span class="nv">$BACKUP_DATE</span>.tar.gz <span class="nt">-C</span> /var/advisoros/

<span class="c"># 4. Restore configuration</span>
<span class="nb">echo</span> <span class="s2">"Restoring configuration..."</span>
aws s3 <span class="nb">cp </span>s3://advisoros-backups/config_backup_<span class="nv">$BACKUP_DATE</span>.tar.gz <span class="nb">.</span>
<span class="nb">tar</span> <span class="nt">-xzf</span> config_backup_<span class="nv">$BACKUP_DATE</span>.tar.gz <span class="nt">-C</span> /etc/advisoros/

<span class="c"># 5. Start services</span>
<span class="nb">echo</span> <span class="s2">"Starting services..."</span>
systemctl start postgresql
systemctl start redis-server
systemctl start advisoros
systemctl start nginx

<span class="c"># 6. Verify recovery</span>
./scripts/verify-recovery.sh

<span class="nb">echo</span> <span class="s2">"Disaster recovery completed successfully!"</span>
</code></pre></div></div> <h4 id="database-point-in-time-recovery"> <a href="#database-point-in-time-recovery" class="anchor-heading" aria-labelledby="database-point-in-time-recovery"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Point-in-Time Recovery </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># Point-in-time recovery script</span>
<span class="nv">RECOVERY_TIME</span><span class="o">=</span><span class="nv">$1</span>

<span class="nb">echo</span> <span class="s2">"Performing point-in-time recovery to: </span><span class="nv">$RECOVERY_TIME</span><span class="s2">"</span>

<span class="c"># Stop PostgreSQL</span>
systemctl stop postgresql

<span class="c"># Restore base backup</span>
pg_basebackup <span class="nt">-D</span> /var/lib/postgresql/14/main_recovery <span class="nt">-Ft</span> <span class="nt">-z</span>

<span class="c"># Configure recovery</span>
<span class="nb">cat</span> <span class="o">&gt;</span> /var/lib/postgresql/14/main_recovery/recovery.conf <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
restore_command = 'cp /var/lib/postgresql/wal_archive/%f %p'
recovery_target_time = '</span><span class="nv">$RECOVERY_TIME</span><span class="sh">'
recovery_target_action = 'promote'
</span><span class="no">EOF

</span><span class="c"># Start PostgreSQL with recovery configuration</span>
systemctl start postgresql
</code></pre></div></div> <h3 id="high-availability-setup"> <a href="#high-availability-setup" class="anchor-heading" aria-labelledby="high-availability-setup"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> High Availability Setup </h3> <h4 id="database-clustering"> <a href="#database-clustering" class="anchor-heading" aria-labelledby="database-clustering"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Database Clustering </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># PostgreSQL streaming replication setup</span>
<span class="c"># On primary server</span>
<span class="nb">echo</span> <span class="s2">"wal_level = replica"</span> <span class="o">&gt;&gt;</span> /etc/postgresql/14/main/postgresql.conf
<span class="nb">echo</span> <span class="s2">"max_wal_senders = 3"</span> <span class="o">&gt;&gt;</span> /etc/postgresql/14/main/postgresql.conf
<span class="nb">echo</span> <span class="s2">"wal_keep_segments = 64"</span> <span class="o">&gt;&gt;</span> /etc/postgresql/14/main/postgresql.conf

<span class="c"># Create replication user</span>
<span class="nb">sudo</span> <span class="nt">-u</span> postgres psql <span class="nt">-c</span> <span class="s2">"CREATE USER replicator REPLICATION LOGIN ENCRYPTED PASSWORD 'repl_password';"</span>

<span class="c"># On standby server</span>
pg_basebackup <span class="nt">-h</span> primary.db.internal <span class="nt">-D</span> /var/lib/postgresql/14/main <span class="nt">-U</span> replicator <span class="nt">-v</span> <span class="nt">-P</span> <span class="nt">-W</span>

<span class="c"># Configure standby</span>
<span class="nb">cat</span> <span class="o">&gt;</span> /var/lib/postgresql/14/main/recovery.conf <span class="o">&lt;&lt;</span> <span class="no">EOF</span><span class="sh">
standby_mode = 'on'
primary_conninfo = 'host=primary.db.internal port=5432 user=replicator'
trigger_file = '/tmp/postgresql.trigger'
</span><span class="no">EOF
</span></code></pre></div></div> <h4 id="application-clustering"> <a href="#application-clustering" class="anchor-heading" aria-labelledby="application-clustering"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Application Clustering </h4> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Kubernetes deployment for high availability</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">advisoros-app</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
  <span class="na">selector</span><span class="pi">:</span>
    <span class="na">matchLabels</span><span class="pi">:</span>
      <span class="na">app</span><span class="pi">:</span> <span class="s">advisoros</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">advisoros</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">containers</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">advisoros</span>
        <span class="na">image</span><span class="pi">:</span> <span class="s">advisoros:latest</span>
        <span class="na">ports</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">containerPort</span><span class="pi">:</span> <span class="m">3000</span>
        <span class="na">env</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">DATABASE_URL</span>
          <span class="na">valueFrom</span><span class="pi">:</span>
            <span class="na">secretKeyRef</span><span class="pi">:</span>
              <span class="na">name</span><span class="pi">:</span> <span class="s">advisoros-secrets</span>
              <span class="na">key</span><span class="pi">:</span> <span class="s">database-url</span>
        <span class="na">livenessProbe</span><span class="pi">:</span>
          <span class="na">httpGet</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/api/health</span>
            <span class="na">port</span><span class="pi">:</span> <span class="m">3000</span>
          <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">30</span>
          <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">10</span>
        <span class="na">readinessProbe</span><span class="pi">:</span>
          <span class="na">httpGet</span><span class="pi">:</span>
            <span class="na">path</span><span class="pi">:</span> <span class="s">/api/ready</span>
            <span class="na">port</span><span class="pi">:</span> <span class="m">3000</span>
          <span class="na">initialDelaySeconds</span><span class="pi">:</span> <span class="m">5</span>
          <span class="na">periodSeconds</span><span class="pi">:</span> <span class="m">5</span>
</code></pre></div></div> <h3 id="testing-and-validation"> <a href="#testing-and-validation" class="anchor-heading" aria-labelledby="testing-and-validation"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Testing and Validation </h3> <h4 id="disaster-recovery-testing"> <a href="#disaster-recovery-testing" class="anchor-heading" aria-labelledby="disaster-recovery-testing"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Disaster Recovery Testing </h4> <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#!/bin/bash</span>
<span class="c"># DR test script</span>
<span class="nv">TEST_DATE</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +%Y%m%d_%H%M%S<span class="si">)</span>
<span class="nv">TEST_ENVIRONMENT</span><span class="o">=</span><span class="s2">"dr-test-</span><span class="nv">$TEST_DATE</span><span class="s2">"</span>

<span class="nb">echo</span> <span class="s2">"Starting disaster recovery test: </span><span class="nv">$TEST_ENVIRONMENT</span><span class="s2">"</span>

<span class="c"># 1. Create isolated test environment</span>
./scripts/create-test-environment.sh <span class="nv">$TEST_ENVIRONMENT</span>

<span class="c"># 2. Perform recovery simulation</span>
./scripts/disaster-recovery.sh latest <span class="nv">$TEST_ENVIRONMENT</span>

<span class="c"># 3. Validate data integrity</span>
./scripts/validate-data-integrity.sh <span class="nv">$TEST_ENVIRONMENT</span>

<span class="c"># 4. Performance testing</span>
./scripts/performance-test.sh <span class="nv">$TEST_ENVIRONMENT</span>

<span class="c"># 5. Generate test report</span>
./scripts/generate-dr-report.sh <span class="nv">$TEST_ENVIRONMENT</span>

<span class="c"># 6. Cleanup test environment</span>
./scripts/cleanup-test-environment.sh <span class="nv">$TEST_ENVIRONMENT</span>

<span class="nb">echo</span> <span class="s2">"Disaster recovery test completed: </span><span class="nv">$TEST_ENVIRONMENT</span><span class="s2">"</span>
</code></pre></div></div><hr /> <h2 id="conclusion"> <a href="#conclusion" class="anchor-heading" aria-labelledby="conclusion"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conclusion </h2> <p>This administrator guide provides comprehensive coverage of AdvisorOS system administration, from initial installation through ongoing maintenance and disaster recovery. Regular review and updates of these procedures ensure optimal system performance, security, and reliability.</p> <p><strong>Key Reminders:</strong></p> <ul> <li>Perform regular backups and test recovery procedures</li> <li>Monitor system performance and security continuously</li> <li>Keep all components updated with latest security patches</li> <li>Document any customizations or deviations from standard procedures</li> <li>Maintain current contact information for emergency support</li> </ul> <p>For additional support or clarification on any administrative procedures, contact the AdvisorOS technical support team at <a href="mailto:admin-support@advisoros.com">admin-support@advisoros.com</a> or refer to the latest documentation at <a href="https://docs.advisoros.com/admin">https://docs.advisoros.com/admin</a>.</p> </main> <hr> <footer> <p class="text-small text-grey-dk-100 mb-0">Built by the AdvisorOS team | Updated {{ site.time | date: '%B %d, %Y' }}</p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
